function disable_firebug(){var c=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(var d=0;d<c.length;++d){window.console[c[d]]=function(){}}}disable_firebug();if(typeof neoip=="undefined"){var neoip={}}neoip.core_t=function(){};neoip.core=new neoip.core_t();neoip.core.isIE=(navigator.appName.indexOf("Microsoft")!=-1);neoip.core.isWebKit=(navigator.userAgent.indexOf("WebKit")!=-1);neoip.core_t.prototype.object_clone=function(f,g){if(typeof(f)!="object"){return f}if(f==null){return f}var h=new Object();if(g==true){for(var e in f){h[e]=neoip.object_clone(f[e],g)}}else{for(var e in f){h[e]=f[e]}}return h};neoip.core_t.prototype.build_nonce_str=function(f){var g="";for(var h=0;h<f;h++){var e=Math.floor(Math.random()*(26+26+10));if(e<26){g+=String.fromCharCode(e+"A".charCodeAt(0))}else{if(e<(26+26)){g+=String.fromCharCode(e-(26)+"a".charCodeAt(0))}else{g+=String.fromCharCode(e-(26+26)+"0".charCodeAt(0))}}}return g};neoip.core_t.prototype.dom_event_listener=function(d,f,e){if(d.addEventListener){d.addEventListener(f,e,false);return true}else{if(d.attachEvent){return d.attachEvent("on"+f,e)}else{return false}}};neoip.basic_cb_t=function(e,f){var d=f||window;return function(){e.call(d)}};neoip.core_t.prototype.build_xmlhttp_obj=function(){var d=null;try{d=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{d=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){d=null}}if(d==null){d=new XMLHttpRequest()}return d};neoip.core_t.prototype.download_file_insync=function(d,e){var f=this.build_xmlhttp_obj();if(e==true){d+=d.indexOf("?")==-1?"?":"&";d+="nocache_workaround="+Math.floor(Math.random()*999999)}f.open("GET",d,false);f.send(null);if(f.status!=200){return null}return f.responseText};neoip.core_t.prototype.cookie_write=function(g,l,i,k){var j=g+"="+l;if(i){var h=new Date();h.setTime(h.getTime()+(i*24*60*60*1000));j+="; expires="+h.toGMTString()}if(k==null){k=window.location.pathname}j+="; path="+k;document.cookie=j};neoip.core_t.prototype.cookie_read=function(c){var i=c+"=";var g=document.cookie.split(";");for(var j=0;j<g.length;j++){var h=g[j];while(h.charAt(0)==" "){h=h.substring(1,h.length)}if(h.indexOf(i)==0){return h.substring(i.length,h.length)}}return null};neoip.core_t.prototype.cookie_delete=function(b){createCookie(b,"",-1)};neoip.core_t.prototype.doc_urivar_get=function(g){var j=window.location.search.substring(1);var h=j.split("&");for(var f=0;f<h.length;f++){var i=h[f].split("=");if(i[0]==g){return i[1]}}return null};neoip.core_t.prototype.doc_urivar_arr=function(){var j={};var l=document.location.search.substring(1);var i=l.split("&");for(var m=0;m<i.length;m++){var n=i[m].split("=");var h=n[0];var k=n[1];j[h]=k}return j};neoip.core_t.prototype.is_absolute_uri=function(b){if(/^http:\/\//.test(b)){return true}if(/^https:\/\//.test(b)){return true}if(/^ftp:\/\//.test(b)){return true}return false};neoip.core_t.prototype.is_absolute_path=function(b){if(/^\//.test(b)){return true}return false};neoip.core_t.prototype.dirname=function(b){return b.replace(/([^\/]*)$/,"")};neoip.core_t.prototype.to_absolute_uri=function(f){if(this.is_absolute_uri(f)){return f}if(this.is_absolute_path(f)){var g=/(.*:\/\/.*?)\//(location.href);var h=g[1];return h+f}var e=location.href;e=e.substring(0,e.lastIndexOf("/"));while(/^\.\./.test(f)){e=e.substring(0,e.lastIndexOf("/"));f=f.substring(3)}return e+"/"+f};neoip.core_t.prototype.doscramble_uri=function(f){if(1){return f}else{if(/.*?:\/\/.*?\//.test(f)==false){return f}var d=/(.*?:\/\/.*?)\//(f)[1];var e=/.*?:\/\/.*?\/(.*)/(f)[1];e=neoip_base64.encode_safe(e);return d+"/scrambled/"+e}};if(typeof neoip=="undefined"){var neoip={}}neoip.objembed_initmon_t=function(){this.m_cur_delay=0.1*1000;this.m_end_delay=5*1000;this.m_cur_delay=3*1000;this.m_end_delay=15*1000};neoip.objembed_initmon_t.prototype.destructor=function(){if(this.m_expire_timeout){clearTimeout(this.m_expire_timeout);this.m_expire_timeout=null}};neoip.objembed_initmon_t.prototype.start=function(d,e,f){this.m_html_id=d;this.m_obj_fcts=e instanceof Array?e:[e];this.m_callback=f;this.m_expire_timeout=setTimeout(neoip.basic_cb_t(this._expire_timeout_cb,this),this.m_cur_delay)};neoip.objembed_initmon_t.prototype._emdeb_do_exist=function(){var c=document.getElementById(this.m_html_id);if(c==undefined){return false}for(var d=0;d<this.m_obj_fcts.length;d++){if(typeof c[this.m_obj_fcts[d]]!=="function"){return false}}return true};neoip.objembed_initmon_t.prototype._expire_timeout_cb=function(){clearInterval(this.m_expire_timeout);this.m_expire_timeout=null;if(this._emdeb_do_exist()){this.m_callback();return}this.m_cur_delay=this.m_cur_delay*2;this.m_cur_delay=Math.min(this.m_cur_delay,this.m_end_delay);this.m_expire_timeout=setTimeout(neoip.basic_cb_t(this._expire_timeout_cb,this),this.m_cur_delay)};neoip.objembed_initmon_cb_t=function(f,g,h){var e=g||window;return function(){f.call(e,this,h)}};var neoip_base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",encode_safe:function(r){var t="";var i,m,o,l,n,p,q;var s=0;r=this._utf8_encode(r);while(s<r.length){i=r.charCodeAt(s++);m=r.charCodeAt(s++);o=r.charCodeAt(s++);l=i>>2;n=((i&3)<<4)|(m>>4);p=((m&15)<<2)|(o>>6);q=o&63;if(isNaN(m)){p=q=64}else{if(isNaN(o)){q=64}}t=t+this._keyStr.charAt(l)+this._keyStr.charAt(n)+this._keyStr.charAt(p)+this._keyStr.charAt(q)}return t},decode_safe:function(r){var t="";var i,m,o;var l,n,p,q;var s=0;r=r.replace(/[^A-Za-z0-9\-\_\=]/g,"");while(s<r.length){l=this._keyStr.indexOf(r.charAt(s++));n=this._keyStr.indexOf(r.charAt(s++));p=this._keyStr.indexOf(r.charAt(s++));q=this._keyStr.indexOf(r.charAt(s++));i=(l<<2)|(n>>4);m=((n&15)<<4)|(p>>2);o=((p&3)<<6)|q;t=t+String.fromCharCode(i);if(p!=64){t=t+String.fromCharCode(m)}if(q!=64){t=t+String.fromCharCode(o)}}t=this._utf8_decode(t);return t},_utf8_encode:function(c){c=c.replace(/\r\n/g,"\n");var f="";for(var g=0;g<c.length;g++){var h=c.charCodeAt(g);if(h<128){f+=String.fromCharCode(h)}else{if((h>127)&&(h<2048)){f+=String.fromCharCode((h>>6)|192);f+=String.fromCharCode((h&63)|128)}else{f+=String.fromCharCode((h>>12)|224);f+=String.fromCharCode(((h>>6)&63)|128);f+=String.fromCharCode((h&63)|128)}}}return f},_utf8_decode:function(f){var c="";var h=0;var g=c1=c2=0;while(h<f.length){g=f.charCodeAt(h);if(g<128){c+=String.fromCharCode(g);h++}else{if((g>191)&&(g<224)){c2=f.charCodeAt(h+1);c+=String.fromCharCode(((g&31)<<6)|(c2&63));h+=2}else{c2=f.charCodeAt(h+1);c3=f.charCodeAt(h+2);c+=String.fromCharCode(((g&15)<<12)|((c2&63)<<6)|(c3&63));h+=3}}}return c}};if(typeof neoip=="undefined"){var neoip={}}neoip.nested_uri_builder_t=function(){this.m_dupuri_arr=new Array;this.m_var_arr=new Array};neoip.nested_uri_builder_t.prototype.destructor=function(){};neoip.nested_uri_builder_t.prototype.inner_uri=function(b){this.m_inner_uri=neoip.core.to_absolute_uri(b)};neoip.nested_uri_builder_t.prototype.outter_uri=function(b){this.m_outter_uri=b};neoip.nested_uri_builder_t.prototype.set_var=function(d,c){if(d=="dupuri"){this.m_dupuri_arr.push(c)}else{if(d=="subfile_path"){this.m_var_arr.subfile_level=c.split("/").length-1;this.m_subfile_path=c}else{this.m_var_arr[d]=c}}};neoip.nested_uri_builder_t.prototype.set_var_arr=function(d){for(var c in d){this.set_var(c,d[c])}};neoip.nested_uri_builder_t.prototype._is_sane_internal=function(){if(!this.m_outter_uri){throw new Error("No outter_uri")}if(!this.m_inner_uri){throw new Error("No inner_uri")}};neoip.nested_uri_builder_t.prototype.is_sane=function(){try{this._is_sane_internal()}catch(b){return false}return true};neoip.nested_uri_builder_t.prototype.to_string=function(){var f="";console.assert(this.is_sane());f+=this.m_outter_uri+"/";if(this.m_var_arr.mod){f+=this.m_var_arr.mod+"/"}for(var e in this.m_var_arr){if(e=="mod"){continue}if(e.indexOf("neoip_metavar_")==0){continue}f+="*"+e+"*";if(e=="http_peersrc_uri"){f+=neoip_base64.encode_safe(this.m_var_arr[e])}else{f+=this.m_var_arr[e]}f+="/"}for(var h in this.m_dupuri_arr){f+="*dupuri*";f+=neoip_base64.encode_safe(this.m_dupuri_arr[h]);f+="/"}var g=this.m_inner_uri.indexOf("?");if(g!=-1){f+=this.m_inner_uri.substr(0,g)}else{f+=this.m_inner_uri}if(this.m_subfile_path){f+=this.m_subfile_path}if(g!=-1){f+=this.m_inner_uri.substr(g,this.m_inner_uri.length)}for(var e in this.m_var_arr){if(e.indexOf("neoip_metavar_")!=0){continue}f+=f.indexOf("?")==-1?"?":"&";f+=e+"="+escape(this.m_var_arr[e])}f=neoip.core.doscramble_uri(f);return f};if(typeof deconcept=="undefined"){var deconcept=new Object()}if(typeof deconcept.util=="undefined"){deconcept.util=new Object()}if(typeof deconcept.SWFObjectUtil=="undefined"){deconcept.SWFObjectUtil=new Object()}deconcept.SWFObject=function(h,w,c,u,q,p,s,t,v,o){if(!document.getElementById){return}this.DETECT_KEY=o?o:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params=new Object();this.variables=new Object();this.attributes=new Array();if(h){this.setAttribute("swf",h)}if(w){this.setAttribute("id",w)}if(c){this.setAttribute("width",c)}if(u){this.setAttribute("height",u)}if(q){this.setAttribute("version",new deconcept.PlayerVersion(q.toString().split(".")))}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true}if(p){this.addParam("bgcolor",p)}var x=s?s:"high";this.addParam("quality",x);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var r=(t)?t:window.location;this.setAttribute("xiRedirectUrl",r);this.setAttribute("redirectUrl","");if(v){this.setAttribute("redirectUrl",v)}};deconcept.SWFObject.prototype={useExpressInstall:function(b){this.xiSWFPath=!b?"expressinstall.swf":b;this.setAttribute("useExpressInstall",true)},setAttribute:function(d,c){this.attributes[d]=c},getAttribute:function(b){return this.attributes[b]},addParam:function(c,d){this.params[c]=d},getParams:function(){return this.params},addVariable:function(c,d){this.variables[c]=d},getVariable:function(b){return this.variables[b]},getVariables:function(){return this.variables},getVariablePairs:function(){var f=new Array();var d;var e=this.getVariables();for(d in e){f[f.length]=d+"="+e[d]}return f},getSWFHTML:function(){var g="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath)}g='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';g+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var i=this.getParams();for(var j in i){g+=[j]+'="'+i[j]+'" '}var k=this.getVariablePairs().join("&");if(k.length>0){g+='flashvars="'+k+'"'}g+="/>"}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath)}g='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';g+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var l=this.getParams();for(var j in l){g+='<param name="'+j+'" value="'+l[j]+'" />'}var h=this.getVariablePairs().join("&");if(h.length>0){g+='<param name="flashvars" value="'+h+'" />'}g+="</object>"}return g},write:function(d){if(this.getAttribute("useExpressInstall")){var e=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(e)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title)}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var f=(typeof d=="string")?document.getElementById(d):d;f.innerHTML=this.getSWFHTML();return true}else{if(this.getAttribute("redirectUrl")!=""){document.location.replace(this.getAttribute("redirectUrl"))}}return false}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var h=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var g=navigator.plugins["Shockwave Flash"];if(g&&g.description){h=new deconcept.PlayerVersion(g.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."))}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var e=1;var j=3;while(e){try{j++;e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+j);h=new deconcept.PlayerVersion([j,0,0])}catch(i){e=null}}}else{try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(i){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");h=new deconcept.PlayerVersion([6,0,21]);e.AllowScriptAccess="always"}catch(i){if(h.major==6){return h}}try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(i){}}if(e!=null){h=new deconcept.PlayerVersion(e.GetVariable("$version").split(" ")[1].split(","))}}}return h};deconcept.PlayerVersion=function(b){this.major=b[0]!=null?parseInt(b[0]):0;this.minor=b[1]!=null?parseInt(b[1]):0;this.rev=b[2]!=null?parseInt(b[2]):0};deconcept.PlayerVersion.prototype.versionIsValid=function(b){if(this.major<b.major){return false}if(this.major>b.major){return true}if(this.minor<b.minor){return false}if(this.minor>b.minor){return true}if(this.rev<b.rev){return false}return true};deconcept.util={getRequestParameter:function(h){var g=document.location.search||document.location.hash;if(h==null){return g}if(g){var e=g.substring(1).split("&");for(var f=0;f<e.length;f++){if(e[f].substring(0,e[f].indexOf("="))==h){return e[f].substring((e[f].indexOf("=")+1))}}}return""}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var d=document.getElementsByTagName("OBJECT");for(var f=d.length-1;f>=0;f--){d[f].style.display="none";for(var e in d[f]){if(typeof d[f][e]=="function"){d[f][e]=function(){}}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs)};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true}}if(!document.getElementById&&document.all){document.getElementById=function(b){return document.all[b]}}var getQueryParamValue=deconcept.util.getRequestParameter;var FlashObject=deconcept.SWFObject;var SWFObject=deconcept.SWFObject;if(typeof neoip=="undefined"){var neoip={}}neoip.xdomrpc_t=function(v,B,z,p,q,r,s,t,u,w,x,y,A){this.m_obj_id=neoip_xdomrpc_cb_new_obj_id();this.m_callback=B;this.m_rpc_url=v;this.m_expire_delay=6*1000;this.m_expire_timeout=setTimeout(neoip.basic_cb_t(this._expire_timeout_cb,this),this.m_expire_delay);neoip_xdomrpc_cb_doregister(this);var o=this.m_rpc_url;o+="?obj_id="+this.m_obj_id;o+="&js_callback=neoip_xdomrpc_cb_callback_from_server";o+="&method_name="+escape(z);if(p!=null){o+="&arg0="+escape(p)}if(q!=null){o+="&arg1="+escape(q)}if(r!=null){o+="&arg2="+escape(r)}if(s!=null){o+="&arg3="+escape(s)}if(t!=null){o+="&arg4="+escape(t)}if(u!=null){o+="&arg5="+escape(u)}if(w!=null){o+="&arg6="+escape(w)}if(x!=null){o+="&arg7="+escape(x)}if(y!=null){o+="&arg8="+escape(y)}if(A!=null){o+="&arg9="+escape(A)}if(0){this._call_uri=o}else{this._call_uri=neoip.core.doscramble_uri(o)}this.m_zerotimer_init=setTimeout(neoip.basic_cb_t(this._zerotimer_init_cb,this),0);this.m_script_monitor=neoip.core.isIE||neoip.core.isWebKit};neoip.xdomrpc_t.prototype.destructor=function(){if(this.m_zerotimer_init){clearTimeout(this.m_zerotimer_init)}if(this.m_expire_timeout){clearTimeout(this.m_expire_timeout)}neoip_xdomrpc_cb_unregister(this);var b="neoip_xdomrpc_script_"+this.m_obj_id;if(this.m_script_monitor){this._dtor_all_script_monitor(b)}else{this._dtor_all_script_default(b)}};neoip.xdomrpc_t.prototype._zerotimer_init_cb=function(){var f=this._call_uri;clearTimeout(this.m_zerotimer_init);this.m_zerotimer_init=null;var i=this._get_root_elem();var j="neoip_xdomrpc_script_"+this.m_obj_id;var h="neoip_xdomrpc_script_reply_var_"+this.m_obj_id;var g=document.createElement("script");g.setAttribute("id",j+"_pre");g.text="var "+h+"=null;";i.appendChild(g);var g=document.createElement("script");g.setAttribute("src",f);g.setAttribute("id",j+"_call");i.appendChild(g);if(this.m_script_monitor){this._ctor_post_script_monitor(g,j)}else{this._ctor_post_script_default(g,j)}};neoip.xdomrpc_t.prototype._get_root_elem=function(){if(0){var b=document.getElementById("neoip.xdomrpc_temp_div");if(!b){b=document.createElement("div");b.setAttribute("id","neoip.xdomrpc_temp_div");document.body.appendChild(b)}}else{var b=document.getElementsByTagName("head")[0]}return b};neoip.xdomrpc_t.prototype._ctor_post_script_default=function(e,g){var h=this._get_root_elem();var f=document.createElement("script");f.setAttribute("id",g+"_post");f.text="neoip_xdomrpc_cb_callback_from_server("+this.m_obj_id+");";h.appendChild(f)};neoip.xdomrpc_t.prototype._dtor_all_script_default=function(d){var e=this._get_root_elem();try{e.removeChild(document.getElementById(d+"_pre"))}catch(f){}try{e.removeChild(document.getElementById(d+"_call"))}catch(f){}try{e.removeChild(document.getElementById(d+"_post"))}catch(f){}};neoip.xdomrpc_t.prototype._ctor_post_script_monitor=function(d,f){var e=function(a){var b=a;return function(){if(this.readyState==null||this.readyState=="loaded"||this.readyState=="complete"){neoip_xdomrpc_cb_callback_from_server(b)}}};d.onreadystatechange=e(this.m_obj_id);d.onload=e(this.m_obj_id);d.onerror=e(this.m_obj_id)};neoip.xdomrpc_t.prototype._dtor_all_script_monitor=function(d){var e=this._get_root_elem();var f=function(k,b,c){var a=k;var j=b;var l=c;return function(){var h=document.getElementById(a);var i=h.readyState;if(i!=null&&i!="loaded"&&i!="complete"){setTimeout(l(a,j,l),1*1000);return}try{j.removeChild(h)}catch(g){}}};setTimeout(f(d+"_pre",e,f),0);setTimeout(f(d+"_call",e,f),0)};neoip.xdomrpc_t.prototype._expire_timeout_cb=function(){clearInterval(this.m_expire_timeout);this.m_expire_timeout=null;var b={code:-1,string:"expired after "+this.m_expire_delay};this.callback_cb(this.m_obj_id,b,null)};neoip.xdomrpc_t.prototype.callback_cb=function(e,f,d){if(this.m_callback){this.m_callback(f,d)}else{this.destructor()}};neoip.xdomrpc_cb_t=function(f,g,h){var e=g||window;return function(a,b){f.call(e,this,h,a,b)}};var neoip_xdomrpc_cb_arr=new Array();function neoip_xdomrpc_cb_new_obj_id(c){var d;do{d=Math.floor(Math.random()*65536)}while(neoip_xdomrpc_cb_arr[d]!=null);return d}function neoip_xdomrpc_cb_doregister(b){neoip_xdomrpc_cb_arr[b.m_obj_id]=b}function neoip_xdomrpc_cb_unregister(b){delete neoip_xdomrpc_cb_arr[b.m_obj_id]}function neoip_xdomrpc_cb_callback_from_server(obj_id){var reply=eval("neoip_xdomrpc_script_reply_var_"+obj_id);var obj=neoip_xdomrpc_cb_arr[obj_id];if(obj==null){return}eval("delete neoip_xdomrpc_script_reply_var_"+obj_id);if(reply==null){obj.callback_cb(obj_id,{code:-1,string:"Server Unreachable"},null);return}obj.callback_cb(obj_id,reply.fault,reply.returned_val)}if(typeof neoip=="undefined"){var neoip={}}neoip.apps_detect_t=function(k,l,g,i,h){this.m_callback=i;this.m_suffix_name=k;this.m_first_port=l;this.m_last_port=g;this.m_options=h!=null?neoip.core.object_clone(h):{};this.m_hostname="127.0.0.1";if(this.m_options.hostname!=undefined){this.m_hostname=this.m_options.hostname}this.m_max_concurrent=1;if(this.m_options.max_concurrent!=undefined){this.m_max_concurrent=this.m_options.max_concurrent}this.m_expire_delay=10*1000;this.m_expire_timeout=setTimeout(neoip.basic_cb_t(this._expire_timeout_cb,this),this.m_expire_delay);this.m_xdomrpc_arr=[];for(var j=this.m_first_port;j<=this.m_last_port;j++){this.m_xdomrpc_arr[j]="todo"}this._launch_next_probe()};neoip.apps_detect_t.prototype.destructor=function(){for(var b in this.m_xdomrpc_arr){if(typeof(this.m_xdomrpc_arr[b])!="object"){continue}this.m_xdomrpc_arr[b].destructor();this.m_xdomrpc_arr[b]=null}if(this.m_expire_timeout){clearTimeout(this.m_expire_timeout);this.m_expire_timeout=null}};neoip.apps_detect_t.prototype.suffix_name=function(){return this.m_suffix_name};neoip.apps_detect_t.prototype.first_port=function(){return this.m_first_port};neoip.apps_detect_t.prototype.last_port=function(){return this.m_last_port};neoip.apps_detect_t.prototype.hostname=function(){return this.m_hostname};neoip.apps_detect_t.prototype.options=function(){return this.m_options};neoip.apps_detect_t.prototype._launch_next_probe=function(){var h=0;var f=0;for(var g in this.m_xdomrpc_arr){if(this.m_xdomrpc_arr[g]=="done"){f++}if(typeof(this.m_xdomrpc_arr[g])=="object"){h++}}if(f==(this.m_last_port-this.m_first_port+1)){var j={present:false};neoip_apps_detect_arr[this.m_suffix_name]=j;if(this.m_callback){this.m_callback("absent")}return}for(var g in this.m_xdomrpc_arr){if(this.m_xdomrpc_arr[g]!="todo"){continue}if(h>=this.m_max_concurrent){break}var i="http://"+this.m_hostname+":"+g+"/neoip_"+this.m_suffix_name+"_appdetect_jsrest.js";this.m_xdomrpc_arr[g]=new neoip.xdomrpc_t(i,neoip.xdomrpc_cb_t(this._xdomrpc_cb,this,g),"probe_apps");h++}};neoip.apps_detect_t.prototype._xdomrpc_cb=function(g,j,k,h){var l=j;this.m_xdomrpc_arr[l].destructor();this.m_xdomrpc_arr[l]="done";if(k==null){var i={};i.outter_uri="http://"+this.m_hostname+":"+l;i.version=h;i.present=true;neoip_apps_detect_arr[this.m_suffix_name]=i;if(this.m_callback){this.m_callback("found")}return}this._launch_next_probe()};neoip.apps_detect_t.prototype._expire_timeout_cb=function(){neoip_apps_detect_arr[this.m_suffix_name]={present:false};if(this.m_callback){this.m_callback("expired after "+this.m_expire_delay+"-msec")}};neoip.apps_detect_cb_t=function(f,g,h){var e=g||window;return function(a){f.call(e,this,h,a)}};var neoip_apps_detect_arr=new Array();neoip.apps_present=function(b){if(neoip_apps_detect_arr[b]==null){return false}return neoip_apps_detect_arr[b].present};neoip.apps_version=function(b){console.assert(neoip.apps_present(b));return neoip_apps_detect_arr[b].version};neoip.apps_version_check=function(o,n){var j=neoip.apps_version(o);var m=parseInt(j.split(".")[0],10);var k=parseInt(n.split(".")[0],10);if(m<k){return false}var p=parseInt(j.split(".")[1],10);var l=parseInt(n.split(".")[1],10);if(p<l){return false}var r=parseInt(j.split(".")[2],10);var q=parseInt(n.split(".")[2],10);if(r<q){return false}return true};neoip.outter_uri=function(b){console.assert(neoip.apps_present(b));return neoip_apps_detect_arr[b].outter_uri};if(typeof neoip=="undefined"){var neoip={}}neoip.apps_detect_wikidbg_t=function(){};neoip.apps_detect_wikidbg=new neoip.apps_detect_wikidbg_t();neoip.apps_detect_wikidbg_t.prototype.main_cb=function(e,f,g){if(typeof(g)=="string"){g=document.getElementById(g)}neoip.wikidbg_subelem_delete(g);var h=new neoip.wikidbg_elem_t(g);if(f=="page"){return this._page_cb(e,f,h)}else{throw"unknown keyword "+f}};neoip.apps_detect_wikidbg_t.prototype._page_cb=function(k,g,j){var l=j.table().tbody();for(var h in neoip_apps_detect_arr){var i;if(neoip.apps_present(h)){i=" <font color='green'>HAS been found</font> -";i+=" version "+neoip.apps_version(h);i+=" with outter_uri of "+neoip.outter_uri(h)}else{i="<font color='red'>HAS NOT</font> been found";i+=" running on your computer."}l.clone().tr().td().bold("neoip-"+h).up(2).td().span().inner_html(": "+i)}};if(typeof neoip=="undefined"){var neoip={}}neoip.webpack_detect_t=function(g){this.m_callback=g;this.m_apps_params={oload:{first_port:4550,last_port:4553,min_version:"0.0.1"},casto:{first_port:4560,last_port:4563,min_version:"0.0.1"},casti:{first_port:4570,last_port:4573,min_version:"0.0.1"}};this.m_apps_detects=new Array();for(var f in this.m_apps_params){var e=this.m_apps_params[f];var h=new neoip.apps_detect_t(f,e.first_port,e.last_port,neoip.apps_detect_cb_t(this._apps_detect_cb,this));this.m_apps_detects.push(h)}this._goto_state("inprobing")};neoip.webpack_detect_t.prototype.destructor=function(){while(this.m_apps_detects.length>0){this.m_apps_detects[0].destructor();this.m_apps_detects.splice(0,1)}};neoip.webpack_detect_t.prototype._apps_detect_cb=function(l,j,i){var g=l.suffix_name();for(var h in this.m_apps_detects){if(l!=this.m_apps_detects[h]){continue}this.m_apps_detects[h].destructor();this.m_apps_detects.splice(h,1)}if(this.m_apps_detects.length>0){return}for(var g in this.m_apps_params){if(neoip.apps_present(g)){continue}this._goto_state("toinstall");return}for(var g in this.m_apps_params){var k=this.m_apps_params[g]["min_version"];if(neoip.apps_version_check(g,k)){continue}this._goto_state("toupgrade");return}this._goto_state("installed")};neoip.webpack_detect_t.prototype._goto_state=function(b){if(b=="inprobing"){return}this.m_callback(b)};neoip.webpack_detect_cb_t=function(f,g,h){var e=g||window;return function(a){f.call(e,this,h,a)}};if(typeof neoip=="undefined"){var neoip={}}neoip.wikidbg_subelem_delete=function(c){while(c.childNodes.length){var d=c.childNodes[0];c.removeChild(d)}};neoip.wikidbg_dump_object=function(l,j){if(typeof(j)!="object"){var h=document.createTextNode("["+typeof(j)+"] - "+j);l.appendChild(h);return}if(j==null){var h=document.createTextNode("null");l.appendChild(h);return}var h=document.createTextNode("["+typeof(j)+"]");l.appendChild(h);var k=document.createElement("ul");for(var g in j){if(typeof(j[g])=="function"){continue}var i=document.createElement("li");i.appendChild(document.createTextNode(g+": "));neoip.wikidbg_dump_object(i,j[g]);k.appendChild(i)}l.appendChild(k)};neoip.wikidbg_periodic=function(i,l,j,g,k){l.main_cb(j,g,k);var h=function(){neoip.wikidbg_periodic(i,l,j,g,k)};setTimeout(h,i)};neoip.wikidbg_elem_t=function(b){this.m_dom_elem=b};neoip.wikidbg_elem_t.prototype._append_child_elem=function(b){this.m_dom_elem.appendChild(b);this.m_dom_elem=b;return this};neoip.wikidbg_elem_t.prototype._append_child_create=function(d){var c=document.createElement(d);return this._append_child_elem(c)};neoip.wikidbg_elem_t.prototype.ul=function(){return this._append_child_create("ul")};neoip.wikidbg_elem_t.prototype.ol=function(){return this._append_child_create("ol")};neoip.wikidbg_elem_t.prototype.li=function(){return this._append_child_create("li")};neoip.wikidbg_elem_t.prototype.table=function(){return this._append_child_create("table")};neoip.wikidbg_elem_t.prototype.tbody=function(){return this._append_child_create("tbody")};neoip.wikidbg_elem_t.prototype.thead=function(){return this._append_child_create("thead")};neoip.wikidbg_elem_t.prototype.tr=function(){return this._append_child_create("tr")};neoip.wikidbg_elem_t.prototype.td=function(){return this._append_child_create("td")};neoip.wikidbg_elem_t.prototype.span=function(){return this._append_child_create("span")};neoip.wikidbg_elem_t.prototype.text=function(d){var c=document.createTextNode(d);return this._append_child_elem(c)};neoip.wikidbg_elem_t.prototype.inner_html=function(b){this.m_dom_elem.innerHTML=b};neoip.wikidbg_elem_t.prototype.bold=function(c){var d=this._append_child_create("b");if(typeof(c)=="undefined"){return d}return d.text(c).up()};neoip.wikidbg_elem_t.prototype.up=function(d){if(typeof(d)=="undefined"){d=1}for(var c=0;c<d;c++){this.m_dom_elem=this.m_dom_elem.parentNode}return this};neoip.wikidbg_elem_t.prototype.clone=function(){return neoip.core.object_clone(this)};if(typeof neoip=="undefined"){var neoip={}}neoip.playlist_t=function(b){if(b){this.from_jspf(b)}};neoip.playlist_t.prototype.from_jspf=function(jspf_str){var jspf_data=eval("("+jspf_str+")");var jspf_playlist=jspf_data.playlist;this.m_base_date=Date.parse(jspf_playlist.date);this.m_identifier=jspf_playlist.identifier;this.m_meta={};this.m_extension={};this.m_meta.may_loop=true;this.m_meta.trackidx_beg=0;if(jspf_playlist.meta==undefined){jspf_playlist.meta=null}for(var key in jspf_playlist.meta){this.m_meta[key]=jspf_playlist.meta[key]}if(jspf_playlist.extension==undefined){jspf_playlist.extension=null}for(var key in jspf_playlist.extension){this.m_extension[key]=jspf_playlist.extension[key]}this.m_track_arr=new Array();this.m_total_duration=0;for(var i=0;i<jspf_playlist.track.length;i++){var track=new this.track_t(this,i+this.trackidx_beg(),this.m_total_duration,jspf_playlist.track[i]);this.m_track_arr.push(track);this.m_total_duration+=this.m_track_arr[i].duration()}this.check()};neoip.playlist_t.prototype.current_track_pos=function(h){var g=h-this.m_base_date;var e=g%this.m_total_duration;for(var f=0;f<this.m_track_arr.length;f++){if(this.m_track_arr[f].m_duration>e){break}e-=this.m_track_arr[f].m_duration}console.info("trackidx_beg()="+this.trackidx_beg());return{trackidx:f+this.trackidx_beg(),track_reltime:e}};neoip.playlist_t.prototype.current_track_pos_wseek=function(f){var d=this.current_track_pos(f);var e=this.track_at(d.trackidx);if(e.may_not_startinmid()){d.track_reltime=0}return d};neoip.playlist_t.prototype.check=function(){if(!typeof(this.m_base_date)=="number"){throw ("base_date is NOT Number")}if(!(this.m_track_arr instanceof Array)){throw ("track_arr is NOT Array")}for(var b=0;b<this.m_track_arr.length;b++){if(!(this.m_track_arr[b] instanceof this.track_t)){throw ("track "+b+" is not an playlist_t.track_t")}this.m_track_arr[b].check()}};neoip.playlist_t.prototype.is_valid=function(){try{this.check();return true}catch(b){return false}};neoip.playlist_t.prototype.same_instance_as=function(b){if(this.identifier()!=b.identifier()){return false}if(this.instance_nonce()!=b.instance_nonce()){return false}return true};neoip.playlist_t.prototype.set_outter_uri_arr=function(b){this.m_outter_uri_arr=b};neoip.playlist_t.prototype.contain_trackidx=function(b){if(b<this.trackidx_beg()){return false}if(b>=this.trackidx_end()){return false}return true};neoip.playlist_t.prototype.track_at=function(b){if(!this.contain_trackidx(b)){console.info("trackidx_beg="+this.trackidx_beg());console.info("trackidx_end="+this.trackidx_end())}console.assert(this.contain_trackidx(b));return this.m_track_arr[b-this.trackidx_beg()]};neoip.playlist_t.prototype.total_duration=function(){return this.m_total_duration};neoip.playlist_t.prototype.base_date=function(){return this.m_base_date};neoip.playlist_t.prototype.identifier=function(){return this.m_identifier};neoip.playlist_t.prototype.meta=function(){return this.m_meta};neoip.playlist_t.prototype.extension=function(){return this.m_extension};neoip.playlist_t.prototype.may_loop=function(){return this.m_meta.may_loop};neoip.playlist_t.prototype.may_not_loop=function(){return !this.may_loop()};neoip.playlist_t.prototype.reload_delay=function(){return this.m_meta.reload_delay};neoip.playlist_t.prototype.instance_nonce=function(){return this.m_meta.instance_nonce};neoip.playlist_t.prototype.trackidx_beg=function(){return this.m_meta.trackidx_beg};neoip.playlist_t.prototype.trackidx_end=function(){return this.trackidx_beg()+this.m_track_arr.length};neoip.playlist_t.prototype.nb_track=function(){return this.m_track_arr.length};if(typeof neoip=="undefined"){var neoip={}}neoip.playlist_t.prototype.track_t=function(e,g,f,h){this.m_playlist=e;this.m_trackidx=g;this.m_base_reltime=f;if(h){this._from_jspf(h)}};neoip.playlist_t.prototype.track_t.prototype._from_jspf=function(c){this.m_location=c.location;this.m_duration=c.duration;this.m_meta={};this.m_extension={};this.m_title="unspecified title";if(c.title){this.m_title=c.title}this.m_meta.start_time=0;this.m_meta.content_type="static";this.m_meta.prefetch_delay=Math.min(30*1000,this.m_duration);if(c.meta==undefined){c.meta=null}for(var d in c.meta){this.m_meta[d]=c.meta[d]}if(c.extension==undefined){c.extension=null}for(var d in c.extension){this.m_extension[d]=c.extension[d]}};neoip.playlist_t.prototype.track_t.prototype.check=function(){if(!typeof(this.m_location)=="string"){throw ("m_location is NOT a string")}if(!typeof(this.m_duration)=="number"){throw ("m_duration is NOT number")}if(typeof(this.m_meta.start_time)!="number"){throw ("m_meta start_time is NOT number")}if(typeof(this.m_meta.content_type)!="string"){throw ("m_meta content_type is NOT string")}if(typeof(this.m_meta.prefetch_delay)!="number"){throw ("m_prefetch_delay is NOT number")}if(this.is_stream()){console.assert(this.prefetch_delay()<=this.duration())}};neoip.playlist_t.prototype.track_t.prototype.playlist=function(){return this.m_playlist};neoip.playlist_t.prototype.track_t.prototype.trackidx=function(){return this.m_trackidx};neoip.playlist_t.prototype.track_t.prototype.base_reltime=function(){return this.m_base_reltime};neoip.playlist_t.prototype.track_t.prototype.location=function(){return this.m_location};neoip.playlist_t.prototype.track_t.prototype.title=function(){return this.m_title};neoip.playlist_t.prototype.track_t.prototype.duration=function(){return this.m_duration};neoip.playlist_t.prototype.track_t.prototype.meta=function(){return this.m_meta};neoip.playlist_t.prototype.track_t.prototype.extension=function(){return this.m_extension};neoip.playlist_t.prototype.track_t.prototype.start_time=function(){return this.m_meta.start_time};neoip.playlist_t.prototype.track_t.prototype.content_type=function(){return this.m_meta.content_type};neoip.playlist_t.prototype.track_t.prototype.video_aspect=function(){return this.m_meta.video_aspect};neoip.playlist_t.prototype.track_t.prototype.is_static=function(){return this.content_type()=="static"};neoip.playlist_t.prototype.track_t.prototype.is_stream=function(){return this.content_type()=="stream"};neoip.playlist_t.prototype.track_t.prototype.static_filelen=function(){if(this.m_extension.oload==null){return null}if(this.m_extension.oload.static_filelen==null){return null}return this.m_extension.oload.static_filelen};neoip.playlist_t.prototype.track_t.prototype.may_startinmid=function(){var e=this.m_playlist.m_outter_uri_arr;if(this.is_stream()){return true}console.assert(this.is_static());var d=e.oload?false:true;if(d&&!this.meta()["location_rangereq_byuri_varname"]){return false}var f=this.extension()["flv_mdata_info"];if(!f||f.kframe_index_present!=1){return false}return true};neoip.playlist_t.prototype.track_t.prototype.may_not_startinmid=function(){return !this.may_startinmid()};neoip.playlist_t.prototype.track_t.prototype.prefetch_delay=function(){return this.m_meta.prefetch_delay};neoip.playlist_t.prototype.track_t.prototype.prefetchable=function(){return this.prefetch_delay()>0};neoip.playlist_t.prototype.track_t.prototype.prefetchable_at=function(d){console.assert(d>=0&&d<this.m_playlist.total_duration());var e=this.m_base_reltime-this.prefetch_delay();var f=this.m_base_reltime;if(e<0&&this.m_playlist.may_not_loop()){e=0}if(e<0){e+=this.m_playlist.total_duration();if(d>=e){return true}if(d<=f){return true}return false}if(d<e){return false}if(d>f){return false}return true};neoip.playlist_t.prototype.track_t.prototype.outter_uri=function(){var b=this.m_playlist.m_outter_uri_arr;if(this.is_static()){return b.oload}if(this.is_stream()){return b.casto}return null};neoip.playlist_t.prototype.track_t.prototype.cooked_uri=function(e){var f=this.m_playlist.m_outter_uri_arr;var d=null;if(this.is_static()){if(!f.oload){d=this.location()}else{d=this._cooked_uri_static(f.oload,e)}}else{if(this.is_stream()){if(!f.casto){d=this.location()}else{d=this._cooked_uri_stream(f.casto,e)}}}d+=d.indexOf("?")==-1?"?":"&";d+="uri_unifier_workaround="+Math.floor(Math.random()*999999);return d};neoip.playlist_t.prototype.track_t.prototype._cooked_uri_static=function(i,g){console.assert(this.is_static());var h=new neoip.nested_uri_builder_t();h.outter_uri(i);h.inner_uri(this.location());var j={};for(var f in this.extension().oload){j[f]=this.extension().oload[f]}for(var f in g){j[f]=g[f]}h.set_var_arr(j);return h.to_string()};neoip.playlist_t.prototype.track_t.prototype._cooked_uri_stream=function(h,g){console.assert(this.is_stream());var j=h+"/"+this.extension().casto.cast_privhash+"/"+this.extension().casto.cast_name;var i={};for(var f in this.extension().casto){i[f]=this.extension().casto[f]}for(var f in g){i[f]=g[f]}for(var f in i){if(f=="cast_privhash"){continue}if(f=="cast_name"){continue}j+=j.indexOf("?")==-1?"?":"&";j+=escape(f)+"="+escape(i[f])}return j};neoip.playlist_t.prototype.track_t.prototype.flv_mdata_uri=function(h){var k;var j=this.extension()["flv_mdata_info"];if(!j){j={type:"internal"}}var g={};for(var l in h){g[l]=h[l]}if(j.type=="external"){if(j.extmdata_len){g.static_filelen=j.extmdata_len}var i=new neoip.nested_uri_builder_t();i.outter_uri(this.outter_uri());i.set_var_arr(g);i.inner_uri(j.extmdata_uri);k=i.to_string()}else{if(j.type=="internal"){if(j.intmdata_len){g.read_ahead=j.intmdata_len}k=this.cooked_uri(g)}}return k};if(typeof neoip=="undefined"){var neoip={}}neoip.playlist_loader_t=function(f,d,e){this.m_playlist_uri=f;this.m_callback=d;this.m_xdomrpc_uri=e;this.m_xdomrpc=null;this.m_reload_timeout=setTimeout(neoip.basic_cb_t(this._reload_timeout_cb,this),0)};neoip.playlist_loader_t.prototype.destructor=function(){if(this.m_reload_timeout){clearTimeout(this.m_reload_timeout);this.m_reload_timeout=null}if(this.m_xdomrpc){this.m_xdomrpc.destructor();this.m_xdomrpc=null}};neoip.playlist_loader_t.prototype._reload_timeout_cb=function(){this._load_playlist_now()};neoip.playlist_loader_t.prototype._load_playlist_now=function(){if(this.m_reload_timeout){clearTimeout(this.m_reload_timeout);this.m_reload_timeout=null}if(this.m_playlist_uri.match(/^xdomrpc:/)){var c=this.m_playlist_uri.match(/^xdomrpc:(.*)$/)[1];this.m_xdomrpc=new neoip.xdomrpc_t(this.m_xdomrpc_uri,neoip.xdomrpc_cb_t(this._xdomrpc_cb,this),"castGetPlaylist",c);return}var d=neoip.core.download_file_insync(this.m_playlist_uri,true);if(d==null){this._load_playlist_error();return}this._load_playlist_success(d)};neoip.playlist_loader_t.prototype._load_playlist_failure=function(){var b=10*1000;this.m_reload_timeout=setTimeout(neoip.basic_cb_t(this._reload_timeout_cb,this),b)};neoip.playlist_loader_t.prototype._load_playlist_success=function(d){var c=new neoip.playlist_t(d);if(c.reload_delay()){this.m_reload_timeout=setTimeout(neoip.basic_cb_t(this._reload_timeout_cb,this),c.reload_delay())}this._notify_callback("new_playlist",{playlist:c})};neoip.playlist_loader_t.prototype._xdomrpc_cb=function(e,g,h,f){this.m_xdomrpc.destructor();this.m_xdomrpc=null;if(h){this._load_playlist_failure();return}this._load_playlist_success(f)};neoip.playlist_loader_t.prototype._notify_callback=function(c,d){if(this.m_callback==null){return}this.m_callback(c,d)};neoip.playlist_loader_cb_t=function(f,g,h){var e=g||window;return function(a,b){f.call(e,this,h,a,b)}};if(typeof neoip=="undefined"){var neoip={}}neoip.plistarr_t=function(b){this.m_item_arr=new Array();if(b){this._from_json(b)}};neoip.plistarr_t.prototype._from_json=function(json_str){var json_data=eval("("+json_str+")");for(var i=0;i<json_data.length;i++){var item=new this.item_t(json_data[i]);this.m_item_arr.push(item)}};neoip.plistarr_t.prototype.item_arr=function(){return this.m_item_arr};neoip.plistarr_t.prototype.reload_delay=function(){return 20*1000};neoip.plistarr_t.prototype.has_playlist_uri=function(e){for(var d=0;d<this.item_arr().length;d++){var f=this.item_arr()[d];if(f.playlist_uri()==e){return true}}return false};neoip.plistarr_t.prototype.item_t=function(b){if(b){this._from_json(b)}};neoip.plistarr_t.prototype.item_t.prototype._from_json=function(b){this.m_json_data=b;this.check()};neoip.plistarr_t.prototype.item_t.prototype.check=function(){if(typeof(this.m_json_data.playlist_title)!="string"){throw ("playlist_title is NOT a string")}if(typeof(this.m_json_data.playlist_uri)!="string"){throw ("playlist_uri is NOT a string")}};neoip.plistarr_t.prototype.item_t.prototype.playlist_title=function(){return this.m_json_data.playlist_title};neoip.plistarr_t.prototype.item_t.prototype.playlist_uri=function(){return this.m_json_data.playlist_uri};neoip.plistarr_t.prototype.item_t.prototype.external_dep=function(){return this.m_json_data.external_dep};neoip.plistarr_t.prototype.item_t.prototype.is_playable=function(){if(this.external_dep()==null){return true}if(this._is_not_playable_suffix("oload")){return false}if(this._is_not_playable_suffix("casto")){return false}return true};neoip.plistarr_t.prototype.item_t.prototype.is_not_playable=function(){return !this.is_playable()};neoip.plistarr_t.prototype.item_t.prototype._is_playable_suffix=function(b){if(this.external_dep()==null){return true}if(this.external_dep()[b]==null){return true}if(this.external_dep()[b]["required"]!=true){return true}if(neoip.apps_present(b)){return true}return false};neoip.plistarr_t.prototype.item_t.prototype._is_not_playable_suffix=function(b){return !this._is_playable_suffix(b)};if(typeof neoip=="undefined"){var neoip={}}neoip.plistarr_loader_t=function(b){this.m_callback=b.callback;this.m_xdomrpc_url=b.xdomrpc_url;this.m_xdomrpc=null;this.m_reload_timeout=setTimeout(neoip.basic_cb_t(this._reload_timeout_cb,this),0)};neoip.plistarr_loader_t.prototype.destructor=function(){if(this.m_reload_timeout){clearTimeout(this.m_reload_timeout);this.m_reload_timeout=null}if(this.m_xdomrpc){this.m_xdomrpc.destructor();this.m_xdomrpc=null}};neoip.plistarr_loader_t.prototype._reload_timeout_cb=function(){if(this.m_reload_timeout){clearTimeout(this.m_reload_timeout);this.m_reload_timeout=null}this.m_xdomrpc=new neoip.xdomrpc_t(this.m_xdomrpc_url,neoip.xdomrpc_cb_t(this._xdomrpc_cb,this),"castGetPlistArr")};neoip.plistarr_loader_t.prototype._xdomrpc_cb=function(n,k,l,h){this.m_xdomrpc.destructor();this.m_xdomrpc=null;if(l){var j=10*1000;this.m_reload_timeout=setTimeout(neoip.basic_cb_t(this._reload_timeout_cb,this),j);return}var i=h;var m=new neoip.plistarr_t(i);if(m.reload_delay()){this.m_reload_timeout=setTimeout(neoip.basic_cb_t(this._reload_timeout_cb,this),m.reload_delay())}this._notify_callback("new_plistarr",{plistarr:m})};neoip.plistarr_loader_t.prototype._notify_callback=function(c,d){if(this.m_callback==null){return}this.m_callback(c,d)};neoip.plistarr_loader_cb_t=function(f,g,h){var e=g||window;return function(a,b){f.call(e,this,h,a,b)}};if(typeof neoip=="undefined"){var neoip={}}neoip.subplayer_cb_t=function(f,g,h){var e=g||window;return function(a,b){f.call(e,this,h,a,b)}};if(typeof neoip=="undefined"){var neoip={}}neoip.subplayer_vlc_t=function(c,d){this.m_plugin_id=c;this.m_clisrv_diffdate=d;this.m_callback=null;this.m_trackidx=null;this.m_start_time=null;this.m_current_state=null;this.m_plugin_abstime=null;this.m_event_period=1*1000;this.m_event_timeout=null};neoip.subplayer_vlc_t.prototype.destructor=function(){};neoip.subplayer_vlc_t.prototype._server_date=function(){var b=new Date();b.setTime(b.getTime()-this.m_clisrv_diffdate);return b};neoip.subplayer_vlc_t.prototype.callback=function(b){this.m_callback=b};neoip.subplayer_vlc_t.prototype.current_state=function(){return this.m_current_state};neoip.subplayer_vlc_t.prototype.current_track_pos=function(){var b={trackidx:this.m_trackidx,track_reltime:this.track_reltime()};if(b.track_reltime==null){return null}return b};neoip.subplayer_vlc_t.prototype.track_reltime=function(){if(this.m_reltime_begdate){return this._server_date()-this.m_reltime_begdate}if(this.m_plugin_abstime==null){return null}if(this.m_current_state!="playing"){return null}return this.m_plugin_abstime-this.m_start_time};neoip.subplayer_vlc_t.prototype.trackidx=function(){return this.m_trackidx};neoip.subplayer_vlc_t.prototype.start_time=function(){return this.m_start_time};neoip.subplayer_vlc_t.prototype.current_state=function(){return this.m_current_state};neoip.subplayer_vlc_t.prototype.build_objembed=function(f,g,h){var e="";e+='<object type="application/x-vlc-plugin"';e+=' pluginspage="http://www.videolan.org/"';e+=' version="VideoLAN.VLCPlugin.2"';e+=' width="'+g+'"';e+=' height="'+h+'"';e+=' id="'+this.m_plugin_id+'"';e+=">";e+="</object>";document.getElementById(f).innerHTML=e};neoip.subplayer_vlc_t.prototype.play=function(l,i){var g=i.playlist().track_at(l.trackidx);var h=g.cooked_uri();this.stop();this.m_trackidx=l.trackidx;this.m_start_time=g.start_time();if(g.is_stream()){this.m_reltime_begdate=this._server_date()}else{this.m_reltime_begdate=null}var k=new Array();k.push(":start-time="+(this.m_start_time+l.track_reltime));k.push(":http-caching=50");var j=document.getElementById(this.m_plugin_id);j.playlist.add(h,null,k);j.playlist.play();this.m_event_timeout=setTimeout(neoip.basic_cb_t(this._event_timeout_cb,this),this.m_event_period)};neoip.subplayer_vlc_t.prototype.stop=function(){var d=document.getElementById(this.m_plugin_id);this.m_trackidx=null;this.m_start_time=null;this.m_current_state=null;this.m_plugin_abstime=null;this.m_reltime_begdate=null;if(this.m_event_timeout){clearTimeout(this.m_event_timeout);this.m_event_timeout=null}try{if(d.playlist.isPlaying){d.playlist.stop()}if(d.playlist.tracks.count>0){d.playlist.clear()}}catch(c){}};neoip.subplayer_vlc_t.prototype.event_timeout_cb=function(){var k=document.getElementById(this.m_plugin_id);var e=this.m_current_state;var l;if(k.input.state==1){l="connecting"}else{if(k.input.state==2){l="buffering"}else{if(k.input.state==3){l="playing"}else{l="unknown"}}}if(l!=this.m_current_state){this.m_current_state=l;if(this.m_callback){var h={old_state:e,new_state:l};this.m_callback("changed_state",h)}}if(!k.playlist.isPlaying){return}try{var i=k.input.time}catch(j){return}if(i<this.m_start_time){i=this.m_start_time}this.m_plugin_abstime=i;if(this.m_callback){var h={new_time:this.track_reltime()};this.m_callback("new_time",h)}this.m_event_timeout=setTimeout(neoip.basic_cb_t(this._event_timeout_cb,this),this.m_event_period)};if(typeof neoip=="undefined"){var neoip={}}neoip.subplayer_asplayer_t=function(c,d){this.m_plugin_htmlid=c;this.m_clisrv_diffdate=d;this.m_callback=null;this.m_trackidx=null;this.m_start_time=null;this.m_current_state=null;this.m_plugin_abstime=null;neoip_subplayer_asplayer_cb_doreg(this)};neoip.subplayer_asplayer_t.prototype.destructor=function(){neoip_subplayer_asplayer_cb_unreg(this)};neoip.subplayer_asplayer_t.prototype.callback=function(b){this.m_callback=b};neoip.subplayer_asplayer_t.prototype.current_state=function(){return this.m_current_state};neoip.subplayer_asplayer_t.prototype.current_track_pos=function(){var b={trackidx:this.m_trackidx,track_reltime:this.track_reltime()};if(b.track_reltime==null){return null}return b};neoip.subplayer_asplayer_t.prototype.track_reltime=function(){if(this.m_reltime_begdate){return this._server_date().getTime()-this.m_reltime_begdate}if(this.m_plugin_abstime==null){return null}return this.m_plugin_abstime-this.m_start_time};neoip.subplayer_asplayer_t.prototype.trackidx=function(){return this.m_trackidx};neoip.subplayer_asplayer_t.prototype.start_time=function(){return this.m_start_time};neoip.subplayer_asplayer_t.prototype.build_objembed=function(i,k,n){var l=new SWFObject("neoip_asplayer.swf",this.m_plugin_htmlid,k.toString(),n.toString(),"9","#000000",true);l.addParam("allowScriptAccess","always");var j=true;l.addParam("allowfullscreen",j?"true":"false");l.addVariable("allowfullscreen",j?"true":"false");l.addVariable("jscallback_str","neoip_subplayer_asplayer_plugin_cb");l.addVariable("jscallback_key",neoip_subplayer_asplayer_cb_build_key(this));var m=l.write(i);if(m){return}var h="<table width='100%' height='100%' align='center'><tr><td valign='middle' align='center'><span style='color:red; font-size: larger;'>Flash required</span><br/><a href='http://get.adobe.com/flashplayer/' target='_blank'>Download it</a></td></tr></table>";document.getElementById(i).innerHTML=h};neoip.subplayer_asplayer_t.prototype.play=function(p,z){var B=z.playlist().track_at(p.trackidx);var q={};var C={};this.m_trackidx=p.trackidx;this.m_start_time=B.start_time();var y=null;if(B.is_stream()){y=null;this.m_reltime_begdate=this._server_date().getTime()-p.track_reltime}else{if(B.is_static()){y=this.m_start_time+p.track_reltime;this.m_reltime_begdate=null}else{}}if(1){if(B.is_static()&&z.has_oload()){C.httpo_maxrate="1k";if(B.static_filelen()!=null&&B.start_time()==0){var r=5*1000;var w=B.static_filelen();var x=B.duration();var u=r*(w/x);C.httpo_maxrate_thres=Math.round(u)}else{C.httpo_maxrate_thres="500k"}C.httpo_full_id=neoip.core.build_nonce_str(16);var v;v=z.m_outter_uri_arr.oload+"/neoip_oload_httpo_ctrl_xmlrpc.cgi";v=neoip.core.doscramble_uri(v);q.net_ratelim={key:C.httpo_full_id,uri:v}}}var s=B.cooked_uri(C);q.content_url=s;if(B.video_aspect()){q.video_aspect=B.video_aspect()}if(y>0){console.assert(B.may_startinmid());console.assert(B.is_static());q.start_time=y/1000;q.rangereq_type="flv";if(z.has_oload()){var A=B.extension()["flv_mdata_info"];q.rangereq_flv_var="pos";q.flv_mdata_uri=B.flv_mdata_uri();if(A){q.flv_mdata_type=A.type}else{q.flv_mdata_type="internal"}}else{var D=B.meta()["location_rangereq_byuri_varname"];q.rangereq_flv_var=D}}var t=document.getElementById(this.m_plugin_htmlid);console.assert(t.track_count()==0);t.track_add(q,0);t.playlist_loop(false);t.set_smoothing(true);t.playing_start()};neoip.subplayer_asplayer_t.prototype.stop=function(){var b=document.getElementById(this.m_plugin_htmlid);b.playing_stop();b.track_del(0);this.m_trackidx=null;this.m_start_time=null;this.m_current_state=null;this.m_plugin_abstime=null;this.m_reltime_begdate=null};neoip.subplayer_asplayer_t.prototype._server_date=function(){var b=new Date();b.setTime(b.getTime()-this.m_clisrv_diffdate);return b};neoip.subplayer_asplayer_t.prototype.plugin_cb=function(h,g){if(h=="state_change"){var f=this.m_current_state;var j=g.new_state;if(j!=this.m_current_state){this.m_current_state=j;var i={old_state:f,new_state:j};this.notify_callback("changed_state",i)}}else{if(h=="current_time"){this.m_plugin_abstime=g.time*1000;var i={new_time:this.track_reltime()};this.notify_callback("new_time",i)}else{this.notify_callback(h,g)}}};neoip.subplayer_asplayer_t.prototype.flv_kframe_find=function(f,h,g,i){var j=document.getElementById(this.m_plugin_htmlid);j.flv_kframe_find(f/1000,h,g,i)};neoip.subplayer_asplayer_t.prototype.notify_callback=function(c,d){if(this.m_callback==null){return}this.m_callback(c,d)};var neoip_subplayer_asplayer_cb_arr=new Array();function neoip_subplayer_asplayer_cb_build_key(b){return"tag_"+b.m_plugin_htmlid}function neoip_subplayer_asplayer_cb_doreg(c){var d=neoip_subplayer_asplayer_cb_build_key(c);neoip_subplayer_asplayer_cb_arr[d]=c}function neoip_subplayer_asplayer_cb_unreg(c){var d=neoip_subplayer_asplayer_cb_build_key(c);delete neoip_subplayer_asplayer_cb_arr[d]}function neoip_subplayer_asplayer_plugin_cb(e,g,f){var h=neoip_subplayer_asplayer_cb_arr[e];h.plugin_cb(g,f)}if(typeof neoip=="undefined"){var neoip={}}neoip.player_t=function(e,f,d){this.m_subplayer=e;this.m_clisrv_diffdate=f;this.m_callback=d;this.m_subplayer.callback(neoip.subplayer_cb_t(this.subplayer_cb,this));this.m_playlist=null;this.m_outter_uri_arr=new Array();this.m_prefetcher_arr=new Array();this.m_curtrack_timeout=null;this.m_is_playing=false;this.m_prefetch_timeout=null;this.m_resync_period=1;this.m_resync_threshold=30*1000;this.m_resync_timeout=null};neoip.player_t.prototype.destructor=function(){if(this.is_playing()){this.playing_stop()}};neoip.player_t.prototype._server_date=function(){var b=new Date();b.setTime(b.getTime()-this.m_clisrv_diffdate);return b};neoip.player_t.prototype._curtrack_start=function(f){var d=this.m_playlist.track_at([f.trackidx]);this.m_subplayer.play(f,this);var e=d.duration()-f.track_reltime;this.m_curtrack_timeout=setTimeout(neoip.basic_cb_t(this._curtrack_timeout_cb,this),e)};neoip.player_t.prototype._curtrack_stop=function(){console.info("enter trackidx="+this.m_subplayer.trackidx());clearTimeout(this.m_curtrack_timeout);this.m_curtrack_timeout=null;this._prefetch_try_stop(this.m_subplayer.trackidx());this.m_subplayer.stop()};neoip.player_t.prototype._curtrack_timeout_cb=function(){var c=this.m_subplayer.trackidx()+1;console.assert(this.is_playing());this._curtrack_stop();if(c>=this.m_playlist.trackidx_end()){if(this.m_playlist.may_loop()==false){console.info("trackidx_end="+this.m_playlist.trackidx_end());console.info("trackidx_beg="+this.m_playlist.trackidx_beg());return}console.assert(c==this.m_playlist.trackidx_end());c=this.m_playlist.trackidx_beg()}var d={trackidx:c,track_reltime:0};this._curtrack_start(d)};neoip.player_t.prototype._prefetch_initial=function(){var b=this.m_playlist.current_track_pos(this._server_date());console.assert(!this.is_playing());this._prefetch_try_start(b)};neoip.player_t.prototype._prefetch_reinit_full=function(){var h=this.m_playlist.current_track_pos(this._server_date());if(this.m_prefetch_timeout){clearTimeout(this.m_prefetch_timeout);this.m_prefetch_timeout=null}var j=this.m_playlist.track_at(h.trackidx);var k=j.base_reltime()+h.track_reltime;var l=Number.MAX_VALUE;for(var m=this.m_playlist.trackidx_beg();m!=this.m_playlist.trackidx_end();m++){var i=this.m_playlist.track_at(m);if(!i.prefetchable()){continue}if(i.prefetchable_at(k)){this._prefetch_try_start({trackidx:i.trackidx(),track_reltime:0});continue}var n=i.base_reltime()-i.prefetch_delay();if(n<k){if(this.m_playlist.may_not_loop()){continue}n+=this.m_playlist.total_duration()}l=Math.min(l,n-k)}if(l!=Number.MAX_VALUE){this.m_prefetch_timeout=setTimeout(neoip.basic_cb_t(this._prefetch_reinit_full,this),l)}};neoip.player_t.prototype._prefetch_try_start=function(d){var f=d.trackidx;if(this.m_prefetcher_arr[f]){return}var e=new neoip.prefetcher_t(d,this);this.m_prefetcher_arr[f]=e};neoip.player_t.prototype._prefetch_try_stop=function(c){if(!this.m_prefetcher_arr[c]){return}var d=this.m_prefetcher_arr[c];this.m_prefetcher_arr.splice(c,1);d.destructor();d=null};neoip.player_t.prototype._resync_if_needed=function(){this.m_resync_timeout=setTimeout(neoip.basic_cb_t(this._resync_if_needed,this),this.m_resync_period);var m=this.m_playlist.current_track_pos(this._server_date());var n=this.m_subplayer.current_track_pos();if(n==null){return}var h=this.m_playlist.track_at(m.trackidx);var i=this.m_playlist.track_at(n.trackidx);var k=h.base_reltime()+m.track_reltime;var l=i.base_reltime()+n.track_reltime;var j=Math.abs(k-l);if(j<this.m_resync_threshold){return}console.error("NEEDS RESYNC! delta_sync="+(j/1000).toFixed(2)+"-sec");return;this._curtrack_stop();this._curtrack_start(m)};neoip.player_t.prototype.subplayer_cb=function(l,j,i,h){if(i=="changed_state"&&h.new_state=="playing"){this._prefetch_try_stop(this.m_subplayer.trackidx())}if(i=="changed_state"&&h.new_state=="playing"){this._prefetch_reinit_full()}if(i=="flv_kframe_find_cb"){var k=h.userptr;var g=this.m_prefetcher_arr[k];if(g){g.flv_kframe_find_cb(h)}}if(this.m_callback){this.m_callback(i,h)}};neoip.player_t.prototype.playlist=function(d){if(!d){return this.m_playlist}var f=this.m_playlist;var e=false;if(f&&f.same_instance_as(d)==false){e=true}if(d.contain_trackidx(this.m_subplayer.trackidx())==false){e=true}if(this.is_not_playing()){e=false}if(e){this.playing_stop()}this.m_playlist=d;this.m_playlist.set_outter_uri_arr(this.m_outter_uri_arr);if(e){this.playing_start()}return this.m_playlist};neoip.player_t.prototype.practical_trackidx=function(){return this.m_subplayer.trackidx()};neoip.player_t.prototype.practical_reltime=function(){return this.m_subplayer.track_reltime()};neoip.player_t.prototype.practical_state=function(){return this.m_subplayer.current_state()};neoip.player_t.prototype.set_outter_uri=function(c,d){this.m_outter_uri_arr[c]=d;if(this.m_playlist){this.m_playlist.set_outter_uri_arr(this.m_outter_uri_arr)}};neoip.player_t.prototype.has_oload=function(){return this.m_outter_uri_arr.oload!=null};neoip.player_t.prototype.has_casto=function(){return this.m_outter_uri_arr.casto!=null};neoip.player_t.prototype.is_playing=function(){return this.m_is_playing};neoip.player_t.prototype.is_not_playing=function(){return !this.is_playing()};neoip.player_t.prototype.playing_start=function(){if(this.is_playing()){return}this.m_is_playing=true;var b=this.m_playlist.current_track_pos_wseek(this._server_date());this._curtrack_start(b);if(0){this.m_resync_timeout=setTimeout(neoip.basic_cb_t(this._resync_if_needed,this),this.m_resync_period)}};neoip.player_t.prototype.playing_stop=function(){for(trackidx in this.m_prefetcher_arr){this._prefetch_try_stop(trackidx)}if(!this.is_playing()){return}this.m_is_playing=false;this._curtrack_stop();if(this.m_prefetch_timeout){clearTimeout(this.m_prefetch_timeout);this.m_prefetch_timeout=null}};neoip.player_cb_t=function(f,g,h){var e=g||window;return function(a,b){f.call(e,this,h,a,b)}};if(typeof neoip=="undefined"){var neoip={}}neoip.player_wikidbg_t=function(){};neoip.player_wikidbg=new neoip.player_wikidbg_t();neoip.player_wikidbg_t.prototype.main_cb=function(e,f,g){if(typeof(g)=="string"){g=document.getElementById(g)}neoip.wikidbg_subelem_delete(g);var h=new neoip.wikidbg_elem_t(g);if(f=="page"){return this._page_cb(e,f,h)}else{if(f=="prefetch"){return this._prefetch_cb(e,f,h)}else{if(f=="admin"){return this._admin_cb(e,f,h)}else{throw"unknown keyword "+f}}}};neoip.player_wikidbg_t.prototype._page_cb=function(h,f,g){var e=g.table().tbody();e.clone().tr().td().bold("Title").up(2).td().text(": wow super title");e.clone().tr().td().bold("State").up(2).td().text(": wow super state")};neoip.player_wikidbg_t.prototype._prefetch_cb=function(l,i,j){var h=j.ol();for(var k in l.m_prefetcher_arr){var m=l.m_prefetcher_arr[k];var n=h.clone().li().table().tbody();n.clone().tr().td().bold("track idx").up(2).td().text(": "+k);n.clone().tr().td().bold("track pos").up(2).td().text(": idx:"+m.m_track_pos.trackidx).up(1).text("  reltime:"+m.m_track_pos.track_reltime);n.clone().tr().td().bold("mdata_uri").up(2).td().text(": "+m.m_mdata_uri);n.clone().tr().td().bold("track_uri").up(2).td().text(": "+m.m_track_uri)}};neoip.player_wikidbg_t.prototype._admin_cb=function(k,p,r){var t=k.practical_trackidx();var q=k.practical_reltime();var l=k.practical_state();var s=k.playlist().track_at(t);var m="undefined";if(s.title()){m=s.title()}var n="";if(q){n+=(q/1000).toFixed(2)+"-sec";n+=" - ";n+=(100*q/s.duration()).toFixed(0)+"%";n+=" of total "}else{n+="position unknown but total "}n+=(s.duration()/1000).toFixed(2)+"-sec";var o=r.table().tbody();o.clone().tr().td().bold("Title").up(2).td().text(": "+m);o.clone().tr().td().bold("State").up(2).td().text(": "+l);o.clone().tr().td().bold("Position").up(2).td().text(": "+n)};if(typeof neoip=="undefined"){var neoip={}}neoip.prefetcher_t=function(m,n){this.m_track_pos=m;this.m_player=n;var h=n.m_playlist.track_at(m.trackidx);if(h.is_static()&&!n.has_oload()){return}if(h.is_stream()&&!n.has_casto()){return}var k=h.extension().flv_mdata_info;if(!k){k={type:"internal"}}var l;if(h.is_static()){l=n.m_outter_uri_arr.oload}if(h.is_stream()){l=n.m_outter_uri_arr.casto}this.m_rpc_uri=l+"/neoip_uri_prefetch_jsrest.js";var i=h.start_time()+m.track_reltime;this.m_mdata_uri=h.flv_mdata_uri({httpo_maxrate:"0k"});new neoip.xdomrpc_t(this.m_rpc_uri,null,"create_prefetch",this.m_mdata_uri);var j=n.m_subplayer.flv_kframe_find!=null;if(j&&i>0){n.m_subplayer.flv_kframe_find(i,k.type,h.flv_mdata_uri(),m.trackidx);return}this.m_track_uri=this._cpu_track_uri();new neoip.xdomrpc_t(this.m_rpc_uri,null,"create_prefetch",this.m_track_uri)};neoip.prefetcher_t.prototype.destructor=function(){if(this.m_track_uri){new neoip.xdomrpc_t(this.m_rpc_uri,null,"delete_prefetch",this.m_track_uri)}if(this.m_mdata_uri){new neoip.xdomrpc_t(this.m_rpc_uri,null,"delete_prefetch",this.m_mdata_uri)}};neoip.prefetcher_t.prototype._cpu_track_uri=function(e){var f=this.m_player.m_playlist.track_at(this.m_track_pos.trackidx);var g={httpo_maxrate:"0k"};for(var h in e){g[h]=e[h]}return f.cooked_uri(g)};neoip.prefetcher_t.prototype.flv_kframe_find_cb=function(b){if(b.event_type=="succeed"){this.m_track_uri=this._cpu_track_uri({subfile_byteoffset:b.result.byte_offset})}else{this.m_track_uri=this._cpu_track_uri()}new neoip.xdomrpc_t(this.m_rpc_uri,null,"create_prefetch",this.m_track_uri)};if(typeof neoip=="undefined"){var neoip={}}neoip.ezplayer_t=function(b){this.m_cfgvar_arr=b;this.m_subplayer_html_id="subplayer_plugin_html_id";this.m_subplayer_type="asplayer";this.m_fullpage_state="normal";this.m_play_post_playlist=false;this.m_autobuffer=false;this.m_clisrv_diffdate=0;this.m_playlist_uri="../playlist.jspf/sample_static.playlist.jspf";neoip.core.dom_event_listener(window,"unload",function(){});if(this.cfgvar_has("fullpage_state")){this.fullpage_state(this.cfgvar_get("fullpage_state"))}if(this.cfgvar_has("onload_start_play")&&this.cfgvar_get("onload_start_play")=="enabled"){this.play_post_playlist(true)}};neoip.ezplayer_t.prototype.destructor=function(){if(this.m_objembed_initmon){this.m_objembed_initmon.destructor();this.m_objembed_initmon=null}if(this.m_webpack_detect){this.m_webpack_detect.destructor();this.m_webpack_detect=null}if(this.m_player){this.m_player.destructor();this.m_player=null}if(this.m_subplayer){this.m_subplayer.destructor();this.m_subplayer=null}if(this.m_embedui){this.m_embedui.destructor();this.m_embedui=null}this._playlist_loader_dtor();this._plistarr_loader_dtor()};neoip.ezplayer_t.prototype.play_post_playlist=function(b){this.m_play_post_playlist=b};neoip.ezplayer_t.prototype.autobuffer=function(b){this.m_autobuffer=b};neoip.ezplayer_t.prototype.fullpage_state=function(b){this.m_fullpage_state=b};neoip.ezplayer_t.prototype.load_plistarr=function(g){if(false){this._plistarr_loader_ctor()}if(false){var f=neoip.core.download_file_insync(g,true);var h=new neoip.plistarr_t(f);this._neoip_plistarr_loader_cb(null,null,"new_plistarr",{plistarr:h})}if(true){var f=neoip.core.download_file_insync(g,true);this.m_plistarr=new neoip.plistarr_t(f);var e=neoip.core.cookie_read("ezplayer_playlist_uri");if(e&&!this.m_plistarr.has_playlist_uri(e)){e=null}if(e){ezplayer.change_playlist(e)}else{ezplayer.change_playlist(this.m_plistarr.item_arr()[0].playlist_uri())}}};neoip.ezplayer_t.prototype.set_server_date=function(d){var c=new Date();this.m_clisrv_diffdate=c.getTime()-d};neoip.ezplayer_t.prototype.start=function(){var b=neoip.basic_cb_t(this._window_onload_cb,this);neoip.core.dom_event_listener(window,"load",b)};neoip.ezplayer_t.prototype._window_onload_cb=function(){if(this.m_subplayer_type=="vlc"){var d="playlist.isPlaying";this.m_subplayer=new neoip.subplayer_vlc_t(this.m_subplayer_html_id,this.m_clisrv_diffdate)}else{if(this.m_subplayer_type=="asplayer"){var d=["track_count","embedui_delete"];d=["embedui_exist","embedui_create","embedui_delete","embedui_update","current_time","current_state","playing_start","playing_stop","set_sound_vol","get_sound_vol","set_sound_pan","get_sound_pan","set_sound_mute","get_sound_mute","flv_kframe_find","playlist_loop","set_smoothing","get_smoothing","set_deblocking","get_deblocking","set_fullscreen","get_fullscreen","may_fullscreen","track_add","track_del","track_get","track_count"];this.m_subplayer=new neoip.subplayer_asplayer_t(this.m_subplayer_html_id,this.m_clisrv_diffdate)}else{}}if(this.m_fullpage_state=="normal"){var f="320";var e="240"}else{if(this.m_fullpage_state=="maximized"){var f="100%";var e="100%"}else{}}this.m_subplayer.build_objembed("neoip_player_container_id",f,e);this.m_objembed_initmon=new neoip.objembed_initmon_t();this.m_objembed_initmon.start(this.m_subplayer_html_id,d,neoip.objembed_initmon_cb_t(this._objembed_initmon_cb,this));this._webpack_detect_start()};neoip.ezplayer_t.prototype._objembed_initmon_cb=function(e,f){this.m_objembed_initmon.destructor();this.m_objembed_initmon=null;this.m_player=new neoip.player_t(this.m_subplayer,this.m_clisrv_diffdate,neoip.player_cb_t(this._neoip_player_cb,this));this._playlist_loader_ctor();this._player_post_init();var d=document.getElementById(this.m_subplayer_html_id);var d=document.getElementById(this.m_subplayer_html_id);if(typeof(d.embedui_create)=="function"){this.m_embedui=new neoip.ezplayer_embedui_t(this)}};neoip.ezplayer_t.prototype._player_post_init=function(){if(!this.m_player){return}for(var c in {oload:null,casto:null}){var d=null;if(neoip.apps_present(c)){d=neoip.outter_uri(c)}this.m_player.set_outter_uri(c,d)}if(this.m_autobuffer){this.m_player._prefetch_initial()}if(this.webpack_detect_running()){return}if(this.m_player.playlist()==null){return}if(this.m_play_post_playlist==false){return}this.m_play_post_playlist=false;neoip.core.cookie_write("ezplayer_playlist_uri",this.m_playlist_uri,30);this.playing_start()};neoip.ezplayer_t.prototype._plistarr_loader_ctor=function(){this._plistarr_loader_dtor();this.m_plistarr_loader=new neoip.plistarr_loader_t({callback:neoip.plistarr_loader_cb_t(this._neoip_plistarr_loader_cb,this),xdomrpc_url:"../../cgi-bin/xdomrpc_dispatcher.php"})};neoip.ezplayer_t.prototype._plistarr_loader_dtor=function(){if(this._plistarr_loader_running()==false){return}this.m_plistarr_loader.destructor();this.m_plistarr_loader=null};neoip.ezplayer_t.prototype._plistarr_loader_running=function(){if(!this.m_plistarr_loader){return false}return true};neoip.ezplayer_t.prototype._neoip_plistarr_loader_cb=function(i,j,h,g){this.m_plistarr=g.plistarr;var f=neoip.core.cookie_read("ezplayer_playlist_uri");if(f&&!this.m_plistarr.has_playlist_uri(f)){f=null}if(f){ezplayer.change_playlist(f)}else{ezplayer.change_playlist(this.m_plistarr.item_arr()[0].playlist_uri())}};neoip.ezplayer_t.prototype._playlist_loader_ctor=function(){this._playlist_loader_dtor();this.m_playlist_loader=new neoip.playlist_loader_t(this.m_playlist_uri,neoip.playlist_loader_cb_t(this._neoip_playlist_loader_cb,this))};neoip.ezplayer_t.prototype._playlist_loader_dtor=function(){if(this._playlist_loader_running()==false){return}this.m_playlist_loader.destructor();this.m_playlist_loader=null};neoip.ezplayer_t.prototype._playlist_loader_running=function(){if(!this.m_playlist_loader){return false}return true};neoip.ezplayer_t.prototype._neoip_playlist_loader_cb=function(h,e,g,f){if(!this.m_player){return}this.m_player.playlist(f.playlist);if(this.m_play_post_playlist){this._player_post_init()}if(this.m_embedui){this.m_embedui.playlist_loader_cb(g,f)}if(this.m_player.is_not_playing()){this._playlist_loader_dtor()}};neoip.ezplayer_t.prototype._neoip_player_cb=function(j,f,h,g){if(h=="asmenu_item_select"){var i="http://urfastr.net/video";window.top.location.href=i;return}if(h=="changed_state"||h=="new_time"){if(this.m_embedui){this.m_embedui.neoip_player_cb(h,g)}}else{if(h=="error"){if(this.m_player.is_playing()){this.playing_stop()}if(this.m_embedui){this.m_embedui.neoip_player_cb(h,g)}}else{if(h=="embedui_event"){this.m_embedui.embedui_event_cb(g.event_type,g.arg)}}}};neoip.ezplayer_t.prototype._webpack_detect_start=function(){var b=neoip.webpack_detect_cb_t(this._webpack_detect_cb,this);this.m_webpack_detect=new neoip.webpack_detect_t(b)};neoip.ezplayer_t.prototype._webpack_detect_cb=function(e,d,f){this.m_webpack_detect.destructor();this.m_webpack_detect=null;this.m_webpack_detect_result=f;console.assert(!this.webpack_detect_running());if(this.m_embedui){this.m_embedui.webpack_detect_completed_cb()}this._player_post_init()};neoip.ezplayer_t.prototype.webpack_detect_running=function(){if(this.m_webpack_detect){return true}return false};neoip.ezplayer_t.prototype.webpack_detect_result=function(){if(!this.m_webpack_detect_result){return"inprobing"}return this.m_webpack_detect_result};neoip.ezplayer_t.prototype.cfgvar_arr=function(){return this.m_cfgvar_arr};neoip.ezplayer_t.prototype.cfgvar_has=function(b){return this.m_cfgvar_arr[b]!=undefined};neoip.ezplayer_t.prototype.cfgvar_get=function(b){return this.m_cfgvar_arr[b]};neoip.ezplayer_t.prototype.cfgvar_set=function(d,c){this.m_cfgvar_arr[d]=c};neoip.ezplayer_t.prototype.change_playlist=function(b){this._playlist_loader_dtor();this.m_playlist_uri=b;if(typeof(pageTracker)!="undefined"){pageTracker._trackPageview("/"+this.m_playlist_uri)}if(!this.m_player){return}this._playlist_loader_ctor()};neoip.ezplayer_t.prototype.playing_start=function(){this.m_player.playing_start();if(!this._playlist_loader_running()){this._playlist_loader_ctor()}if(this.m_embedui){this.m_embedui.playing_start()}};neoip.ezplayer_t.prototype.playing_stop=function(){this.m_player.playing_stop();if(this._playlist_loader_running()&&this.m_player.playlist()){this._playlist_loader_dtor()}if(this.m_embedui){this.m_embedui.playing_stop()}};if(typeof neoip=="undefined"){var neoip={}}neoip.ezplayer_embedui_t=function(f){this.m_ezplayer=f;var d=this._get_plugin();var e={embedui_class:"root_stage",embedui_id:"embedui_id_root_stage",userptr:{embedui_id:"embedui_id_root_stage"},element_opt:{}};d.embedui_create(e);this._sound_init_from_cookie();var e={embedui_class:"button_volume",embedui_id:"embedui_id_volume",userptr:{embedui_id:"embedui_id_volume"},element_opt:{sound_vol:d.get_sound_vol(),sound_mute:d.get_sound_mute()},base_sprite:{element_x:0,element_y:0,element_w:0.1,element_h:0,anchor_x:0.5,anchor_y:0.5,display_type:"timeout",timeout_delay:999*1000}};d.embedui_create(e);var e={embedui_class:"button_bitmap",embedui_id:"embedui_id_winsizer",userptr:{embedui_id:"embedui_id_winsizer"},element_opt:{type:"vector",location:d.get_fullscreen()?"win_normalizer":"win_maximizer"},base_sprite:{element_x:1,element_y:0,element_w:0.08,element_h:0,anchor_x:0,anchor_y:0,display_type:"timeout",timeout_delay:999*1000}};d.embedui_create(e);var e={embedui_class:"button_bitmap",embedui_id:"embedui_id_playlist_toggle",userptr:{embedui_id:"embedui_id_playlist_toggle"},element_opt:{type:"vector",location:"chansel"},base_sprite:{element_x:0,element_y:0.5,element_w:0.08,element_h:0,display_type:"timeout",timeout_delay:999*1000}};if(this.m_ezplayer.m_plistarr){d.embedui_create(e)}var e={embedui_class:"text_caption",embedui_id:"embedui_id_track_title",userptr:{embedui_id:"embedui_id_track_title"},element_opt:{text:" ",font_size:100/1024},base_sprite:{element_x:0.5,element_y:0.8,element_w:1,element_h:0,anchor_x:0.5,anchor_y:0.5,display_type:"timeout",timeout_delay:4*1000,mouse_action:false}};d.embedui_create(e);var e={embedui_class:"text_caption",embedui_id:"embedui_id_status_line",userptr:{embedui_id:"embedui_id_status_line"},element_opt:{text:" ",font_size:100/1024,font_color:16711680},base_sprite:{element_x:0.5,element_y:0.2,element_w:1,element_h:0,anchor_x:0.5,anchor_y:0.5,display_type:"timeout",timeout_delay:4*1000,mouse_action:false}};d.embedui_create(e);if(this.m_ezplayer.m_play_post_playlist==false){this._reinit_playstop_buttons()}if(this.m_ezplayer.webpack_detect_running()==false){this.webpack_detect_completed_cb()}};neoip.ezplayer_embedui_t.prototype.destructor=function(){var b=this._get_plugin();b.embedui_delete("embedui_id_root_stage");b.embedui_delete("embedui_id_volume");b.embedui_delete("embedui_id_winsizer");b.embedui_delete("embedui_id_playlist_toggle");b.embedui_delete("embedui_id_track_title");b.embedui_delete("embedui_id_status_line");this._embedui_delete_playlist_select();this._embedui_delete_nopack_button();this._embedui_delete_play();this._embedui_delete_stop();this._embedui_delete_busy()};neoip.ezplayer_embedui_t.prototype._sound_init_from_cookie=function(){var h=this._get_plugin();var e=this.m_ezplayer.cfgvar_arr();if(e.onload_force_mute=="1"){h.set_sound_mute(true)}else{var f=neoip.core.cookie_read("ezplayer_sound_mute");if(f){h.set_sound_mute(Number(f))}}var g=neoip.core.cookie_read("ezplayer_sound_vol");if(g){h.set_sound_vol(g)}};neoip.ezplayer_embedui_t.prototype._get_plugin=function(){return document.getElementById(this.m_ezplayer.m_subplayer_html_id)};neoip.ezplayer_embedui_t.prototype.embedui_event_cb=function(g,f){var e=f.userptr;var h=e.embedui_id;if(h=="embedui_id_root_stage"){return this._embedui_root_stage_cb(g,f)}else{if(h=="embedui_id_volume"){return this._embedui_button_vol_cb(g,f)}else{if(h=="embedui_id_winsizer"){return this._embedui_button_winsizer_cb(g,f)}else{if(h=="embedui_id_play"&&g=="click"){return this.m_ezplayer.playing_start()}else{if(h=="embedui_id_stop"&&g=="click"){return this.m_ezplayer.playing_stop()}else{if(h=="embedui_id_playlist_toggle"){return this._embedui_playlist_toggle_cb(g,f)}else{if(h=="embedui_id_playlist_select"){return this._embedui_playlist_select_cb(g,f)}else{if(h=="embedui_id_nopack_button"){return this._embedui_nopack_button_cb(g,f)}}}}}}}}return -1};neoip.ezplayer_embedui_t.prototype._embedui_button_vol_cb=function(i,h){var j="embedui_id_volume";var l=this._get_plugin();if(i=="click"){l.set_sound_mute(!l.get_sound_mute());neoip.core.cookie_write("ezplayer_sound_mute",Number(l.get_sound_mute()),30);l.embedui_update(j,{action:"element_update_opt",arg:{sound_mute:l.get_sound_mute()}})}if(i=="mouseWheel"){var k=h.wheel_delta*0.1;var g=l.get_sound_vol()+k;g=Math.max(g,0);g=Math.min(g,1);l.set_sound_vol(g);neoip.core.cookie_write("ezplayer_sound_vol",l.get_sound_vol(),30);l.embedui_update(j,{action:"element_update_opt",arg:{sound_vol:l.get_sound_vol()}})}};neoip.ezplayer_embedui_t.prototype._embedui_button_winsizer_cb=function(k,j){var l="embedui_id_winsizer";var n=this._get_plugin();var p=n.may_fullscreen();if(k=="click"&&p){n.set_fullscreen(!n.get_fullscreen())}if(false){if(k=="mouseWheel"||k=="click"){if(n.getAttribute("width")=="100%"){n.setAttribute("width","320");n.setAttribute("height","240")}else{n.setAttribute("width","100%");n.setAttribute("height","100%")}}}if(false){n.embedui_update(l,{action:"base_reset_state",arg:{new_state:"invisible"}})}var m=n.get_fullscreen();var i=n.getAttribute("width")=="100%";var o=p?m:i;n.embedui_update(l,{action:"element_update_opt",arg:{location:o?"win_normalizer":"win_maximizer"}})};neoip.ezplayer_embedui_t.prototype._embedui_root_stage_cb=function(k,j){var l="embedui_id_root_stage";var n=this._get_plugin();if(k=="doubleClick"&&n.may_fullscreen()){n.set_fullscreen(!n.get_fullscreen());n.embedui_update("embedui_id_winsizer",{action:"element_update_opt",arg:{location:n.get_fullscreen()?"win_normalizer":"win_maximizer"}})}if(k=="changed_state"){var o=j.new_state;var i=null;if(o=="idle_detect"){n.embedui_update(l,{action:"element_update_opt",arg:{mouse_visibility:"show"}});i="appearing"}else{n.embedui_update(l,{action:"element_update_opt",arg:{mouse_visibility:"hide"}});i="disappearing"}var m=["embedui_id_volume","embedui_id_winsizer","embedui_id_playlist_toggle"];if(n.embedui_exist(l)==true){m.push("embedui_id_stop")}for(var p=0;p<m.length;p++){var l=m[p];n.embedui_update(l,{action:"base_reset_state",arg:{new_state:i}})}}};neoip.ezplayer_embedui_t.prototype._embedui_playlist_toggle_cb=function(g,f){var h="embedui_id_playlist_select";var e=this._get_plugin();if(g!="click"){return}if(!e.embedui_exist(h)){this._embedui_create_playlist_select()}else{this._embedui_delete_playlist_select()}this._reinit_playstop_buttons()};neoip.ezplayer_embedui_t.prototype._embedui_playlist_select_cb=function(h,g){var j=g.selected_idx;var i=g.item_userptr;this._embedui_delete_playlist_select();this._reinit_playstop_buttons();var f=this.m_ezplayer.m_plistarr.item_arr()[j];if(f.is_not_playable()){this._set_status_line("WebPack Required for "+f.playlist_title());return}this.m_ezplayer.play_post_playlist(true);this.m_ezplayer.change_playlist(i.playlist_uri)};neoip.ezplayer_embedui_t.prototype._embedui_create_playlist_select=function(){var k=this._get_plugin();var i="embedui_id_playlist_select";if(k.embedui_exist(i)==true){return}if(this.m_ezplayer.m_plistarr==null){return}var h={embedui_class:"select_list",embedui_id:"embedui_id_playlist_select",userptr:{embedui_id:"embedui_id_playlist_select"},element_opt:{selected_idx:0,item_w:500/1024,item_h:70/768,box_t:7/1024,margin_w:10/1024,margin_h:0/768,font_size:60/1024,item_arr:["FILLED DYNAMICALLY JUST AFTER"]}};var j=[];for(var l=0;l<this.m_ezplayer.m_plistarr.item_arr().length;l++){var g=this.m_ezplayer.m_plistarr.item_arr()[l];j.push({display_text:g.playlist_title(),color:g.is_playable()?16777215:8421504,item_userptr:{playlist_uri:g.playlist_uri()}})}h.element_opt.item_arr=j;for(var l=0;l<this.m_ezplayer.m_plistarr.item_arr().length;l++){var g=this.m_ezplayer.m_plistarr.item_arr()[l];if(g.is_not_playable()){continue}if(g.playlist_uri()==this.m_ezplayer.m_playlist_uri){h.element_opt.selected_idx=l;break}}k.embedui_create(h)};neoip.ezplayer_embedui_t.prototype._embedui_delete_playlist_select=function(){var d=this._get_plugin();var c="embedui_id_playlist_select";if(d.embedui_exist(c)==false){return}d.embedui_delete(c)};neoip.ezplayer_embedui_t.prototype.webpack_detect_completed_cb=function(){console.assert(this.m_ezplayer.webpack_detect_running()==false);if(this.m_ezplayer.webpack_detect_result()=="installed"){return}this._set_status_line("Limited version");this._set_track_title("Install WebPack\nfor full version");this._embedui_create_nopack_button()};neoip.ezplayer_embedui_t.prototype._embedui_nopack_button_cb=function(f,e){var d="http://urfastr.net/webpack/download";if(f!="click"){return}window.top.location.href=d};neoip.ezplayer_embedui_t.prototype._embedui_create_nopack_button=function(){var h=this._get_plugin();var g="embedui_id_nopack_button";if(h.embedui_exist(g)==true){return}if(this.m_ezplayer.webpack_detect_result()=="toinstall"){var e="Install\nWebPack"}else{if(this.m_ezplayer.webpack_detect_result()=="toupgrade"){var e="Update\nWebPack"}else{}}var f={embedui_class:"button_bitmap",embedui_id:g,userptr:{embedui_id:g},element_opt:{type:"vector",location:"webpack_install",text:e},base_sprite:{element_x:1,element_y:1,element_w:0.2,element_h:0,display_type:"always"}};h.embedui_create(f)};neoip.ezplayer_embedui_t.prototype._embedui_delete_nopack_button=function(){var d=this._get_plugin();var c="embedui_id_nopack_button";if(d.embedui_exist(c)==false){return}d.embedui_delete(c)};neoip.ezplayer_embedui_t.prototype.neoip_player_cb=function(j,i){var m=this._get_plugin();if(j=="changed_state"&&i.new_state=="playing"){var n=this.m_ezplayer.m_player.practical_trackidx();var h=this.m_ezplayer.m_player.playlist().track_at(n);var k=h.title();this._set_track_title(k)}else{if(j=="error"){if(i.reason=="NetStream.Play.StreamNotFound"){var l="Not broadcasting now.\nretry later"}else{var l=i.reason.replace("."," ","g")}this._set_status_line(l)}}if(j=="changed_state"){this._reinit_playstop_buttons()}};neoip.ezplayer_embedui_t.prototype._set_track_title=function(d){var e=this._get_plugin();var f="embedui_id_track_title";e.embedui_update(f,{action:"base_reset_state",arg:{new_state:"invisible"}});e.embedui_update(f,{action:"element_update_opt",arg:{text:d}});e.embedui_update(f,{action:"base_reset_state",arg:{new_state:"appearing"}})};neoip.ezplayer_embedui_t.prototype._set_status_line=function(d){var e=this._get_plugin();var f="embedui_id_status_line";e.embedui_update(f,{action:"base_reset_state",arg:{new_state:"invisible"}});e.embedui_update(f,{action:"element_update_opt",arg:{text:d}});e.embedui_update(f,{action:"base_reset_state",arg:{new_state:"appearing"}})};neoip.ezplayer_embedui_t.prototype.playlist_loader_cb=function(c,d){this._reinit_playstop_buttons()};neoip.ezplayer_embedui_t.prototype.playing_start=function(){this._reinit_playstop_buttons()};neoip.ezplayer_embedui_t.prototype.playing_stop=function(){this._reinit_playstop_buttons();var b=this._get_plugin();b.embedui_update("embedui_id_track_title",{action:"base_reset_state",arg:{new_state:"invisible"}})};neoip.ezplayer_embedui_t.prototype._reinit_playstop_buttons=function(){var d=this._get_plugin();if(d.embedui_exist("embedui_id_playlist_select")){this._embedui_delete_play();this._embedui_delete_stop();this._embedui_delete_busy();return}var c=this.m_ezplayer.m_player.practical_state();if(c=="kframefinding"||c=="connecting"){this._embedui_create_busy()}else{this._embedui_delete_busy()}if(this.m_ezplayer.m_player.is_playing()){this._embedui_delete_play();this._embedui_create_stop()}else{this._embedui_delete_stop();this._embedui_create_play()}};neoip.ezplayer_embedui_t.prototype._embedui_create_play=function(){var d=this._get_plugin();var f="embedui_id_play";if(d.embedui_exist(f)==true){return}var e={embedui_class:"button_bitmap",embedui_id:f,userptr:{embedui_id:f},element_opt:{type:"vector",location:"play"},base_sprite:{element_x:0.5,element_y:0.5,element_w:0.1,element_h:0,anchor_x:0.5,anchor_y:0.5,display_type:"always"}};d.embedui_create(e)};neoip.ezplayer_embedui_t.prototype._embedui_delete_play=function(){var d=this._get_plugin();var c="embedui_id_play";if(d.embedui_exist(c)==false){return}d.embedui_delete(c)};neoip.ezplayer_embedui_t.prototype._embedui_create_stop=function(){var d=this._get_plugin();var f="embedui_id_stop";if(d.embedui_exist(f)==true){return}var e={embedui_class:"button_bitmap",embedui_id:f,userptr:{embedui_id:f},element_opt:{type:"vector",location:"stop"},base_sprite:{element_x:0.5,element_y:0.5,element_w:0.1,element_h:0,anchor_x:0.5,anchor_y:0.5,display_type:"timeout",timeout_delay:999*1000}};d.embedui_create(e)};neoip.ezplayer_embedui_t.prototype._embedui_delete_stop=function(){var d=this._get_plugin();var c="embedui_id_stop";if(d.embedui_exist(c)==false){return}d.embedui_delete(c)};neoip.ezplayer_embedui_t.prototype._embedui_create_busy=function(){var d=this._get_plugin();var f="embedui_id_busy";if(d.embedui_exist(f)==true){return}var e={embedui_class:"button_busy",embedui_id:f,userptr:{embedui_id:f},base_sprite:{element_x:0.5,element_y:0.5,element_w:0.1,element_h:0,anchor_x:0.5,anchor_y:0.5,display_type:"always"}};d.embedui_create(e)};neoip.ezplayer_embedui_t.prototype._embedui_delete_busy=function(){var d=this._get_plugin();var c="embedui_id_busy";if(d.embedui_exist(c)==false){return}d.embedui_delete(c)};if(!this.JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})();var crossframe_msg_t=function(){var b=function(h,g,e,d){var f=document.createElement("iframe");f.style.visibility="hidden";f.style.position="absolute";f.style.top=f.style.left="0";f.style.width=f.style.height="0";f.addEventListener("load",function(){f.removeEventListener("load",arguments.callee,false);setTimeout(function(){document.body.removeChild(f)},1000)},false);var c="iframe_dst="+escape(e)+"&message="+escape(h)+"&domain="+escape(document.domain)+"&uri="+escape(location.href)+"&listener_obj="+escape(d);f.src=g+"#"+c;document.body.appendChild(f)};var a=(function(){var d=null;var c=function(f){d=f};var e=function(h,g,f){if(d===null){return}if(d===null){}d(h,g,f)};return{bind:c,trigger:e}})();return{send:b,event:a}};if(!crossframe){var crossframe={}}crossframe.rpc_server_t=function(d){var a=d||{};var c={};var e=new crossframe_msg_t();window[a.listener_obj]=e;var b=function(g,f){c[g]=f};e.event.bind(function(m,l,k){rpc_call_match=m.match(/^rpc_call\((.*)\)/);if(rpc_call_match==null){return}var g=JSON.parse(rpc_call_match[1]);var i={nonce:g.nonce,result:null,fault:null};try{if(!(g.method_name in c)){throw"Unknown method name"}var f=c[g.method_name];i.result=f.apply(null,g.args)}catch(j){i.fault=j}var h="rpc_resp("+JSON.stringify(i)+")";e.send(h,g.resp_addr.proxyUrl,g.resp_addr.iframe_dst,g.resp_addr.listener_obj)});return{register:b}};