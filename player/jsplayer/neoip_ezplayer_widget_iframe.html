<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>player live in iframe</title>
</head>
<body>

this is just to debug the case of player live in iframe
<p>
<!--<iframe src="http://jmehost2.local/~jerome/neoip_htdml/bt_cast/casto/neoip_casto_dev.html"  width="320" height="240">-->
<!--	bla-->
<!--</iframe>-->
<!---->
<!-- include js for UrFastR Live API 	-->
<script src="../../lib/crossframe/crossframe_rpc_client.standalone-min.js" type="text/javascript"></script>
<script src="../../lib/crossframe/crossframe_rpc_server.standalone-min.js"></script>
<script src="../../player/api/urfastr_live.js" type="text/javascript"></script>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>


<h1>UrFastR Live API demo</h1>
This is a very early demonstration of UrFastR Live API. 
<table width="100%"><tr valign="top">
	<td width="50%">
		<input type="button" class="button_build"		value="build()"			/>
		To build the player widget in the container
		<br>
		<input type="button" class="button_destroy"		value="destroy()"		/>
		To destroy the player widget in the container
		<br>		<input type="button" class="button_playing_start"	value="playing_start()" 	/>
		To start playing
		<br>
		<input type="button" class="button_playing_stop"	value="playing_stop()"		/>	
		To stop playing
		<br>
		<input type="button" class="button_add_event_listener"	value="add_event_listener()"	/>	
		To add event listenser
	</td>
	<td width="50%">
		<div id="container_urfastr"></div>
	</td>
</tr></table>
<div id="container_recved_event">
	List of received events
	<ul></ul>
</div>

<script>
var opt		= {
	container_id		: "container_urfastr",
//	crossframe_proxyUrl	: "<?= url_for("testxdomiframe/proxy") ?>",
	crossframe_proxyUrl	: "http://localhost/~jerome/neoip_html/lib/crossframe/crossframe_proxy.html",
//	crossframe_proxyUrl	: "http://urfastr.net/neoip_html/lib/crossframe/crossframe_proxy.html",
	player_url		: "http://localhost/~jerome/neoip_html/player/jsplayer/neoip_ezplayer_widget.html",
//	player_url		: "http://localhost/~jerome/neoip_html/player/jsplayer/slota.html",

// apparently giving a callback here produce a bug which remove the UI for channel selector... no clue why
	callback		: function(event_type, event_args){
		$('<li>')
			.append('<strong>'+event_type+'<strong>')
			.append(': '+JSON.stringify(event_args))
			.appendTo('#container_recved_event ul');

		console.info("******************************");
		console.info("******************************");
		console.info("event notified event_type="+event_type);
		console.dir(event_args);
		console.info("******************************");
		console.info("******************************");
		console.info("******************************");
		console.info("******************************");
		console.info("******************************");
	}
}
var urfastr	= new urfastr_live(opt);
$('.button_build').click(function(){
	urfastr.build();
});
$('.button_destroy').click(function(){
	urfastr.destroy();
});
$('.button_playing_start').click(function(){
	urfastr.playing_start();
});
$('.button_playing_stop').click(function(){
	urfastr.playing_stop();
});
$('.button_add_event_listener').click(function(){
	urfastr.add_event_listener(function(event_type, event_args){
		console.info("******************************");
		console.info("******************************");
		console.info("******************************");
		console.info("******************************");
		console.info("event notified event_type="+event_type);
		
		console.dir(event_args);
		console.info("******************************");
		console.info("******************************");
		console.info("******************************");
		console.info("******************************");
		console.info("******************************");
	});
});
</script>

</body>
</html>
