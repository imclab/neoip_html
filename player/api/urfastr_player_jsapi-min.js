var urfastr_live=function(a){var f={player_url:"http://player.urfastr.net/live",width:"320",height:"240",event_cb:null,neoip_var_arr:{widget_src:"api_js",onload_start_play:"enabled"}};var e="urfastr_live_frame_"+Math.floor(Math.random()*100000);var g=null;var h=null;var i={dest_addr:{proxyUrl:a.crossframe_proxyUrl,listener_obj:"crossframe_msg_rpc_server_"+e,iframe_dst:"parent"},resp_addr:{proxyUrl:"http://localhost/~jerome/neoip_html/lib/crossframe/crossframe_proxy.html",listener_obj:"crossframe_msg_event_listener_page",iframe_dst:"frames['"+e+"']"}};var m=function(){for(key in f){if(a[key]!==undefined){continue}a[key]=f[key]}if(typeof crossframe==="undefined"){return}g=new crossframe.rpc_client_t({dest_addr:{proxyUrl:"http://localhost/~jerome/neoip_html/lib/crossframe/crossframe_proxy.html",listener_obj:"crossframe_msg_rpc_server_page",iframe_dst:"frames['"+e+"']"},resp_addr:{proxyUrl:a.crossframe_proxyUrl,listener_obj:"crossframe_msg_rpc_client_"+e,iframe_dst:"parent"}});if(a.event_cb){j();a.neoip_var_arr.api_addEventListener=JSON.stringify(i)}};var o=function(s,r){console.info("99999999999event notified event_type="+s);console.dir(r);if(a.event_cb){a.event_cb(s,r)}};var j=function(){if(h){return}h=new crossframe.rpc_server_t({listener_obj:"crossframe_msg_rpc_server_"+e});h.register("event_notification",o)};var n=function(){l();var u="";for(key in a.neoip_var_arr){if(u.length){u+="&"}u+="neoip_var_"+escape(key)+"="+escape(a.neoip_var_arr[key])}console.info("iframe_src"+u);var t=a.player_url;if(u.length){t+="?"+u}var r=document.createElement("iframe");r.setAttribute("src",t);r.setAttribute("width",a.width);r.setAttribute("height",a.height);r.setAttribute("frameborder","no");r.setAttribute("frameborder","no");r.setAttribute("id",e);r.setAttribute("name",e);var s=document.getElementById(a.container_id);s.appendChild(r)};var l=function(){var r=document.getElementById(a.container_id);while(r.hasChildNodes()){r.removeChild(r.lastChild)}};var c=function(r){a.event_cb=r;if(!h){j();g.call("addEventListener",i)}};var b=function(){console.assert(g);g.call("playing_start")};var p=function(){console.assert(g);g.call("playing_stop")};var k=function(r){console.assert(g);g.call("is_playing",function(s){r(s)})};var q=function(r){console.assert(g);g.call("plistarr_get",function(s){r(s)})};var d=function(r){console.assert(g);g.call("webpack_status",function(s){r(s)})};m();return{build:n,destroy:l,event_cb_set:c,playing_start:b,playing_stop:p,is_playing:k,plistarr_get:q,webpack_status:d}};